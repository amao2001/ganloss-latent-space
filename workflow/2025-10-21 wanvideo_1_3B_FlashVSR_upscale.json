{
	"last_link_id":219,
	"nodes":[
		{
			"outputs":[
				
			],
			"color":"#432",
			"widgets_values":[
				"Model links:\n\n[https://huggingface.co/Kijai/WanVideo_comfy/tree/main/FlashVSR](https://huggingface.co/Kijai/WanVideo_comfy/tree/main/FlashVSR)\n\nText encoder:\n\n[https://huggingface.co/Kijai/WanVideo_comfy/blob/main/umt5-xxl-enc-bf16.safetensors](https://huggingface.co/Kijai/WanVideo_comfy/blob/main/umt5-xxl-enc-bf16.safetensors)\n"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"MarkdownNote",
			"mode":0,
			"bgcolor":"#653",
			"size":[
				408.80950927734375,
				131.6868133544922
			],
			"pos":[
				-1130.9693603515625,
				-908.9747314453125
			],
			"id":84,
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":0
		},
		{
			"outputs":[
				{
					"name":"vae",
					"links":[
						213
					],
					"label":"vae",
					"type":"WANVAE",
					"localized_name":"vae"
				}
			],
			"color":"#322",
			"widgets_values":[
				"Wan2_1_FlashVSR_TCDecoder_fp32.safetensors",
				"fp16"
			],
			"inputs":[
				{
					"widget":{
						"name":"model_name"
					},
					"name":"model_name",
					"label":"model_name",
					"type":"COMBO",
					"localized_name":"model_name"
				},
				{
					"widget":{
						"name":"precision"
					},
					"shape":7,
					"name":"precision",
					"label":"precision",
					"type":"COMBO",
					"localized_name":"precision"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoFlashVSRDecoderLoader",
			"mode":0,
			"bgcolor":"#533",
			"size":[
				360.68438720703125,
				82
			],
			"pos":[
				-518.56201171875,
				-1145.4072265625
			],
			"id":119,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"3d42bf62cedf4f760edadba9e9c55869105d0bba",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoFlashVSRDecoderLoader"
			},
			"order":1
		},
		{
			"outputs":[
				{
					"name":"wan_t5_model",
					"slot_index":0,
					"links":[
						162
					],
					"label":"wan_t5_model",
					"type":"WANTEXTENCODER",
					"localized_name":"wan_t5_model"
				}
			],
			"color":"#332922",
			"widgets_values":[
				"umt5-xxl-enc-bf16.safetensors",
				"bf16",
				"offload_device",
				"disabled"
			],
			"inputs":[
				{
					"widget":{
						"name":"model_name"
					},
					"name":"model_name",
					"label":"model_name",
					"type":"COMBO",
					"localized_name":"model_name"
				},
				{
					"widget":{
						"name":"precision"
					},
					"name":"precision",
					"label":"precision",
					"type":"COMBO",
					"localized_name":"precision"
				},
				{
					"widget":{
						"name":"load_device"
					},
					"shape":7,
					"name":"load_device",
					"label":"load_device",
					"type":"COMBO",
					"localized_name":"load_device"
				},
				{
					"widget":{
						"name":"quantization"
					},
					"shape":7,
					"name":"quantization",
					"label":"quantization",
					"type":"COMBO",
					"localized_name":"quantization"
				}
			],
			"flags":{
				
			},
			"type":"LoadWanVideoT5TextEncoder",
			"mode":0,
			"bgcolor":"#593930",
			"size":[
				377.1661376953125,
				130
			],
			"pos":[
				-525.412353515625,
				-1008.3495483398438
			],
			"id":11,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"LoadWanVideoT5TextEncoder"
			},
			"order":2
		},
		{
			"outputs":[
				{
					"name":"model",
					"slot_index":0,
					"links":[
						144,
						163
					],
					"label":"model",
					"type":"WANVIDEOMODEL",
					"localized_name":"model"
				}
			],
			"color":"#223",
			"widgets_values":[
				"FlashVSR/Wan2_1-T2V-1_3B_FlashVSR_fp32.safetensors",
				"fp16",
				"disabled",
				"offload_device",
				"sdpa",
				"default"
			],
			"inputs":[
				{
					"shape":7,
					"name":"compile_args",
					"label":"compile_args",
					"type":"WANCOMPILEARGS",
					"localized_name":"compile_args"
				},
				{
					"shape":7,
					"name":"block_swap_args",
					"label":"block_swap_args",
					"type":"BLOCKSWAPARGS",
					"localized_name":"block_swap_args"
				},
				{
					"shape":7,
					"name":"lora",
					"label":"lora",
					"type":"WANVIDLORA",
					"localized_name":"lora"
				},
				{
					"shape":7,
					"name":"vram_management_args",
					"label":"vram_management_args",
					"type":"VRAM_MANAGEMENTARGS",
					"localized_name":"vram_management_args"
				},
				{
					"shape":7,
					"name":"extra_model",
					"link":180,
					"label":"extra_model",
					"type":"VACEPATH",
					"localized_name":"extra_model"
				},
				{
					"shape":7,
					"name":"fantasytalking_model",
					"label":"fantasytalking_model",
					"type":"FANTASYTALKINGMODEL",
					"localized_name":"fantasytalking_model"
				},
				{
					"shape":7,
					"name":"multitalk_model",
					"label":"multitalk_model",
					"type":"MULTITALKMODEL",
					"localized_name":"multitalk_model"
				},
				{
					"shape":7,
					"name":"fantasyportrait_model",
					"label":"fantasyportrait_model",
					"type":"FANTASYPORTRAITMODEL",
					"localized_name":"fantasyportrait_model"
				},
				{
					"widget":{
						"name":"model"
					},
					"name":"model",
					"label":"model",
					"type":"COMBO",
					"localized_name":"model"
				},
				{
					"widget":{
						"name":"base_precision"
					},
					"name":"base_precision",
					"label":"base_precision",
					"type":"COMBO",
					"localized_name":"base_precision"
				},
				{
					"widget":{
						"name":"quantization"
					},
					"name":"quantization",
					"label":"quantization",
					"type":"COMBO",
					"localized_name":"quantization"
				},
				{
					"widget":{
						"name":"load_device"
					},
					"name":"load_device",
					"label":"load_device",
					"type":"COMBO",
					"localized_name":"load_device"
				},
				{
					"widget":{
						"name":"attention_mode"
					},
					"shape":7,
					"name":"attention_mode",
					"label":"attention_mode",
					"type":"COMBO",
					"localized_name":"attention_mode"
				},
				{
					"widget":{
						"name":"rms_norm_function"
					},
					"shape":7,
					"name":"rms_norm_function",
					"label":"rms_norm_function",
					"type":"COMBO",
					"localized_name":"rms_norm_function"
				},
				{
					"shape":7,
					"name":"vace_model",
					"label":"vace_model",
					"type":"VACEPATH"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoModelLoader",
			"mode":0,
			"bgcolor":"#335",
			"size":[
				434.2387390136719,
				338
			],
			"pos":[
				-128.4596405029297,
				-1241.8880615234375
			],
			"id":22,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoModelLoader"
			},
			"order":6
		},
		{
			"outputs":[
				{
					"name":"extra_model",
					"links":[
						180
					],
					"label":"extra_model",
					"type":"VACEPATH",
					"localized_name":"extra_model"
				}
			],
			"color":"#223",
			"widgets_values":[
				"FlashVSR/Wan2_1_FlashVSR_PQ_proj_model_bf16.safetensors"
			],
			"inputs":[
				{
					"shape":7,
					"name":"prev_model",
					"label":"prev_model",
					"type":"VACEPATH",
					"localized_name":"prev_model"
				},
				{
					"widget":{
						"name":"extra_model"
					},
					"name":"extra_model",
					"label":"extra_model",
					"type":"COMBO",
					"localized_name":"extra_model"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoExtraModelSelect",
			"mode":0,
			"bgcolor":"#335",
			"size":[
				363.01544189453125,
				58
			],
			"pos":[
				-521.0866088867188,
				-1259.8631591796875
			],
			"id":113,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"3d42bf62cedf4f760edadba9e9c55869105d0bba",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoExtraModelSelect"
			},
			"order":3
		},
		{
			"outputs":[
				{
					"name":"text_embeds",
					"slot_index":0,
					"links":[
						166
					],
					"label":"text_embeds",
					"type":"WANVIDEOTEXTEMBEDS",
					"localized_name":"text_embeds"
				}
			],
			"color":"#332922",
			"widgets_values":[
				"best quality video of a beautiful woman",
				"Bright tones, overexposed, static, blurred details, subtitles, style, works, paintings, images, static, overall gray, worst quality, low quality, JPEG compression residue, ugly, incomplete, extra fingers, poorly drawn hands, poorly drawn faces, deformed, disfigured, misshapen limbs, fused fingers, still picture, messy background, three legs, many people in the background, walking backwards\"",
				true,
				true,
				"gpu"
			],
			"inputs":[
				{
					"shape":7,
					"name":"t5",
					"link":162,
					"label":"t5",
					"type":"WANTEXTENCODER",
					"localized_name":"t5"
				},
				{
					"shape":7,
					"name":"model_to_offload",
					"link":163,
					"label":"model_to_offload",
					"type":"WANVIDEOMODEL",
					"localized_name":"model_to_offload"
				},
				{
					"widget":{
						"name":"positive_prompt"
					},
					"name":"positive_prompt",
					"label":"positive_prompt",
					"type":"STRING",
					"localized_name":"positive_prompt"
				},
				{
					"widget":{
						"name":"negative_prompt"
					},
					"name":"negative_prompt",
					"label":"negative_prompt",
					"type":"STRING",
					"localized_name":"negative_prompt"
				},
				{
					"widget":{
						"name":"force_offload"
					},
					"shape":7,
					"name":"force_offload",
					"label":"force_offload",
					"type":"BOOLEAN",
					"localized_name":"force_offload"
				},
				{
					"widget":{
						"name":"use_disk_cache"
					},
					"shape":7,
					"name":"use_disk_cache",
					"label":"use_disk_cache",
					"type":"BOOLEAN",
					"localized_name":"use_disk_cache"
				},
				{
					"widget":{
						"name":"device"
					},
					"shape":7,
					"name":"device",
					"label":"device",
					"type":"COMBO",
					"localized_name":"device"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoTextEncode",
			"mode":0,
			"bgcolor":"#593930",
			"size":[
				525.8681640625,
				384.3753356933594
			],
			"pos":[
				344.88800048828125,
				-1257.2603759765625
			],
			"id":104,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoTextEncode"
			},
			"order":8
		},
		{
			"outputs":[
				
			],
			"color":"#432",
			"widgets_values":[
				"This is a barebones implementation of FlashVSR:\n\nhttps://huggingface.co/JunhaoZhuang/FlashVSR\n\nNone of the sparse attention and streaming stuff is implemented, however it still gives results like this and may be useful"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"Note",
			"title":"Note: WIP",
			"mode":0,
			"bgcolor":"#653",
			"size":[
				316.588623046875,
				203.8870391845703
			],
			"pos":[
				398.8184814453125,
				-1601.011474609375
			],
			"id":127,
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":4
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"image_embeds",
					"links":[
						181
					],
					"label":"image_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"image_embeds"
				}
			],
			"size":[
				272.431640625,
				126
			],
			"pos":[
				38.56955337524414,
				-759.8252563476562
			],
			"widgets_values":[
				720,
				720,
				85
			],
			"inputs":[
				{
					"shape":7,
					"name":"control_embeds",
					"label":"control_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"control_embeds"
				},
				{
					"shape":7,
					"name":"extra_latents",
					"label":"extra_latents",
					"type":"LATENT",
					"localized_name":"extra_latents"
				},
				{
					"widget":{
						"name":"width"
					},
					"name":"width",
					"link":189,
					"label":"width",
					"type":"INT",
					"localized_name":"width"
				},
				{
					"widget":{
						"name":"height"
					},
					"name":"height",
					"link":190,
					"label":"height",
					"type":"INT",
					"localized_name":"height"
				},
				{
					"widget":{
						"name":"num_frames"
					},
					"name":"num_frames",
					"link":216,
					"label":"num_frames",
					"type":"INT",
					"localized_name":"num_frames"
				}
			],
			"flags":{
				
			},
			"id":78,
			"type":"WanVideoEmptyEmbeds",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"6bc53b771d5d2af316801cb69e2ee10dbf7d18b1",
				"widget_ue_connectable":{
					"width":true,
					"height":true
				},
				"Node name for S&R":"WanVideoEmptyEmbeds"
			},
			"order":9
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"image_embeds",
					"links":[
						182
					],
					"label":"image_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"image_embeds"
				}
			],
			"size":[
				275.5963134765625,
				83.8769760131836
			],
			"pos":[
				32.29587173461914,
				-584.5614013671875
			],
			"widgets_values":[
				1
			],
			"inputs":[
				{
					"name":"embeds",
					"link":181,
					"label":"embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"embeds"
				},
				{
					"name":"images",
					"link":186,
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				},
				{
					"widget":{
						"name":"strength"
					},
					"name":"strength",
					"label":"strength",
					"type":"FLOAT",
					"localized_name":"strength"
				}
			],
			"flags":{
				
			},
			"id":114,
			"type":"WanVideoAddFlashVSRInput",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"3d42bf62cedf4f760edadba9e9c55869105d0bba",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoAddFlashVSRInput"
			},
			"order":10
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"image",
					"links":[
						215
					],
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				},
				{
					"name":"1024 width",
					"label":"width",
					"type":"INT",
					"localized_name":"width"
				},
				{
					"name":"1024 height",
					"label":"height",
					"type":"INT",
					"localized_name":"height"
				},
				{
					"name":"161 count",
					"label":"count",
					"type":"INT",
					"localized_name":"count"
				}
			],
			"size":[
				190.86483764648438,
				86
			],
			"pos":[
				1258.3900146484375,
				-995.8986206054688
			],
			"widgets_values":[
				
			],
			"inputs":[
				{
					"name":"image",
					"link":214,
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				}
			],
			"flags":{
				
			},
			"id":126,
			"type":"GetImageSizeAndCount",
			"properties":{
				"cnr_id":"comfyui-kjnodes",
				"ver":"3fcd22f2fe2be69c3229f192362b91888277cbcb",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"GetImageSizeAndCount"
			},
			"order":13
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"samples",
					"slot_index":0,
					"links":[
						196
					],
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				},
				{
					"name":"denoised_samples",
					"label":"denoised_samples",
					"type":"LATENT",
					"localized_name":"denoised_samples"
				}
			],
			"size":[
				315,
				999
			],
			"pos":[
				909.2178955078125,
				-1240.2811279296875
			],
			"widgets_values":[
				1,
				1,
				5,
				74,
				"fixed",
				true,
				"euler",
				0,
				1,
				false,
				"comfy",
				0,
				-1,
				false
			],
			"inputs":[
				{
					"name":"model",
					"link":144,
					"label":"model",
					"type":"WANVIDEOMODEL",
					"localized_name":"model"
				},
				{
					"name":"image_embeds",
					"link":182,
					"label":"image_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"image_embeds"
				},
				{
					"shape":7,
					"name":"text_embeds",
					"link":166,
					"label":"text_embeds",
					"type":"WANVIDEOTEXTEMBEDS",
					"localized_name":"text_embeds"
				},
				{
					"shape":7,
					"name":"samples",
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				},
				{
					"shape":7,
					"name":"feta_args",
					"label":"feta_args",
					"type":"FETAARGS",
					"localized_name":"feta_args"
				},
				{
					"shape":7,
					"name":"context_options",
					"label":"context_options",
					"type":"WANVIDCONTEXT",
					"localized_name":"context_options"
				},
				{
					"shape":7,
					"name":"cache_args",
					"label":"cache_args",
					"type":"CACHEARGS",
					"localized_name":"cache_args"
				},
				{
					"shape":7,
					"name":"flowedit_args",
					"label":"flowedit_args",
					"type":"FLOWEDITARGS",
					"localized_name":"flowedit_args"
				},
				{
					"shape":7,
					"name":"slg_args",
					"label":"slg_args",
					"type":"SLGARGS",
					"localized_name":"slg_args"
				},
				{
					"shape":7,
					"name":"loop_args",
					"label":"loop_args",
					"type":"LOOPARGS",
					"localized_name":"loop_args"
				},
				{
					"shape":7,
					"name":"experimental_args",
					"label":"experimental_args",
					"type":"EXPERIMENTALARGS",
					"localized_name":"experimental_args"
				},
				{
					"shape":7,
					"name":"sigmas",
					"label":"sigmas",
					"type":"SIGMAS",
					"localized_name":"sigmas"
				},
				{
					"shape":7,
					"name":"unianimate_poses",
					"label":"unianimate_poses",
					"type":"UNIANIMATE_POSE",
					"localized_name":"unianimate_poses"
				},
				{
					"shape":7,
					"name":"fantasytalking_embeds",
					"label":"fantasytalking_embeds",
					"type":"FANTASYTALKING_EMBEDS",
					"localized_name":"fantasytalking_embeds"
				},
				{
					"shape":7,
					"name":"uni3c_embeds",
					"label":"uni3c_embeds",
					"type":"UNI3C_EMBEDS",
					"localized_name":"uni3c_embeds"
				},
				{
					"shape":7,
					"name":"multitalk_embeds",
					"label":"multitalk_embeds",
					"type":"MULTITALK_EMBEDS",
					"localized_name":"multitalk_embeds"
				},
				{
					"shape":7,
					"name":"freeinit_args",
					"label":"freeinit_args",
					"type":"FREEINITARGS",
					"localized_name":"freeinit_args"
				},
				{
					"widget":{
						"name":"steps"
					},
					"name":"steps",
					"label":"steps",
					"type":"INT",
					"localized_name":"steps"
				},
				{
					"widget":{
						"name":"cfg"
					},
					"name":"cfg",
					"label":"cfg",
					"type":"FLOAT",
					"localized_name":"cfg"
				},
				{
					"widget":{
						"name":"shift"
					},
					"name":"shift",
					"label":"shift",
					"type":"FLOAT",
					"localized_name":"shift"
				},
				{
					"widget":{
						"name":"seed"
					},
					"name":"seed",
					"label":"seed",
					"type":"INT",
					"localized_name":"seed"
				},
				{
					"widget":{
						"name":"force_offload"
					},
					"name":"force_offload",
					"label":"force_offload",
					"type":"BOOLEAN",
					"localized_name":"force_offload"
				},
				{
					"widget":{
						"name":"scheduler"
					},
					"name":"scheduler",
					"label":"scheduler",
					"type":"COMBO",
					"localized_name":"scheduler"
				},
				{
					"widget":{
						"name":"riflex_freq_index"
					},
					"name":"riflex_freq_index",
					"label":"riflex_freq_index",
					"type":"INT",
					"localized_name":"riflex_freq_index"
				},
				{
					"widget":{
						"name":"denoise_strength"
					},
					"shape":7,
					"name":"denoise_strength",
					"label":"denoise_strength",
					"type":"FLOAT",
					"localized_name":"denoise_strength"
				},
				{
					"widget":{
						"name":"batched_cfg"
					},
					"shape":7,
					"name":"batched_cfg",
					"label":"batched_cfg",
					"type":"BOOLEAN",
					"localized_name":"batched_cfg"
				},
				{
					"widget":{
						"name":"rope_function"
					},
					"shape":7,
					"name":"rope_function",
					"label":"rope_function",
					"type":"COMBO",
					"localized_name":"rope_function"
				},
				{
					"widget":{
						"name":"start_step"
					},
					"shape":7,
					"name":"start_step",
					"label":"start_step",
					"type":"INT",
					"localized_name":"start_step"
				},
				{
					"widget":{
						"name":"end_step"
					},
					"shape":7,
					"name":"end_step",
					"label":"end_step",
					"type":"INT",
					"localized_name":"end_step"
				},
				{
					"widget":{
						"name":"add_noise_to_samples"
					},
					"shape":7,
					"name":"add_noise_to_samples",
					"label":"add_noise_to_samples",
					"type":"BOOLEAN",
					"localized_name":"add_noise_to_samples"
				}
			],
			"flags":{
				
			},
			"id":27,
			"type":"WanVideoSampler",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoSampler"
			},
			"order":11
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"images",
					"links":[
						193
					],
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				}
			],
			"size":[
				270,
				150
			],
			"pos":[
				1590.212646484375,
				-1220.627685546875
			],
			"widgets_values":[
				2,
				"right",
				true,
				null
			],
			"inputs":[
				{
					"name":"image_1",
					"link":210,
					"label":"image_1",
					"type":"IMAGE",
					"localized_name":"image_1"
				},
				{
					"shape":7,
					"name":"image_2",
					"link":215,
					"label":"image_2",
					"type":"IMAGE",
					"localized_name":"image_2"
				},
				{
					"widget":{
						"name":"inputcount"
					},
					"name":"inputcount",
					"label":"inputcount",
					"type":"INT",
					"localized_name":"inputcount"
				},
				{
					"widget":{
						"name":"direction"
					},
					"name":"direction",
					"label":"direction",
					"type":"COMBO",
					"localized_name":"direction"
				},
				{
					"widget":{
						"name":"match_image_size"
					},
					"name":"match_image_size",
					"label":"match_image_size",
					"type":"BOOLEAN",
					"localized_name":"match_image_size"
				}
			],
			"flags":{
				
			},
			"id":117,
			"type":"ImageConcatMulti",
			"properties":{
				"cnr_id":"comfyui-kjnodes",
				"ver":"3fcd22f2fe2be69c3229f192362b91888277cbcb",
				"widget_ue_connectable":{
					
				}
			},
			"order":15
		},
		{
			"outputs":[
				{
					"name":"images",
					"slot_index":0,
					"links":[
						214,
						219
					],
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				}
			],
			"color":"#322",
			"widgets_values":[
				false,
				272,
				272,
				144,
				128,
				"default"
			],
			"inputs":[
				{
					"name":"vae",
					"link":213,
					"label":"vae",
					"type":"WANVAE",
					"localized_name":"vae"
				},
				{
					"name":"samples",
					"link":196,
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				},
				{
					"widget":{
						"name":"enable_vae_tiling"
					},
					"name":"enable_vae_tiling",
					"label":"enable_vae_tiling",
					"type":"BOOLEAN",
					"localized_name":"enable_vae_tiling"
				},
				{
					"widget":{
						"name":"tile_x"
					},
					"name":"tile_x",
					"label":"tile_x",
					"type":"INT",
					"localized_name":"tile_x"
				},
				{
					"widget":{
						"name":"tile_y"
					},
					"name":"tile_y",
					"label":"tile_y",
					"type":"INT",
					"localized_name":"tile_y"
				},
				{
					"widget":{
						"name":"tile_stride_x"
					},
					"name":"tile_stride_x",
					"label":"tile_stride_x",
					"type":"INT",
					"localized_name":"tile_stride_x"
				},
				{
					"widget":{
						"name":"tile_stride_y"
					},
					"name":"tile_stride_y",
					"label":"tile_stride_y",
					"type":"INT",
					"localized_name":"tile_stride_y"
				},
				{
					"widget":{
						"name":"normalization"
					},
					"shape":7,
					"name":"normalization",
					"label":"normalization",
					"type":"COMBO",
					"localized_name":"normalization"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoDecode",
			"mode":0,
			"bgcolor":"#533",
			"size":[
				315,
				198
			],
			"pos":[
				1256.634765625,
				-1252.15673828125
			],
			"id":121,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoDecode"
			},
			"order":12
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"Filenames",
					"label":"Filenames",
					"type":"VHS_FILENAMES",
					"localized_name":"Filenames"
				}
			],
			"size":[
				1369.7001953125,
				1721.7001953125
			],
			"pos":[
				3318.662353515625,
				-1288.0032958984375
			],
			"widgets_values":{
				"save_output":true,
				"filename_prefix":"WanVideoWrapper_FlashVSR",
				"loop_count":0,
				"pix_fmt":"yuv420p",
				"save_metadata":true,
				"crf":19,
				"trim_to_audio":false,
				"videopreview":{
					"paused":false,
					"hidden":false,
					"params":{
						"score":"0",
						"filename":"WanVideoWrapper_FlashVSR_00001_p87_tbpav_1761009002.mp4",
						"workflow":"WanVideoWrapper_FlashVSR_00001_p87.png",
						"fullpath":"/data/ComfyUI/personal/445aa9a89d7fa5567450f91c998092da/output/WanVideoWrapper_FlashVSR_00001_p87.mp4",
						"format":"video/h264-mp4",
						"subfolder":"",
						"label":"Normal",
						"type":"output",
						"frame_rate":16
					}
				},
				"format":"video/h264-mp4",
				"no_preview":false,
				"frame_rate":16,
				"pingpong":false
			},
			"inputs":[
				{
					"name":"images",
					"link":219,
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				},
				{
					"shape":7,
					"name":"audio",
					"label":"audio",
					"type":"AUDIO",
					"localized_name":"audio"
				},
				{
					"shape":7,
					"name":"meta_batch",
					"label":"meta_batch",
					"type":"VHS_BatchManager",
					"localized_name":"meta_batch"
				},
				{
					"shape":7,
					"name":"vae",
					"label":"vae",
					"type":"VAE",
					"localized_name":"vae"
				},
				{
					"widget":{
						"name":"frame_rate"
					},
					"name":"frame_rate",
					"label":"frame_rate",
					"type":"FLOAT",
					"localized_name":"frame_rate"
				},
				{
					"widget":{
						"name":"loop_count"
					},
					"name":"loop_count",
					"label":"loop_count",
					"type":"INT",
					"localized_name":"loop_count"
				},
				{
					"widget":{
						"name":"filename_prefix"
					},
					"name":"filename_prefix",
					"label":"filename_prefix",
					"type":"STRING",
					"localized_name":"filename_prefix"
				},
				{
					"widget":{
						"name":"format"
					},
					"name":"format",
					"label":"format",
					"type":"COMBO",
					"localized_name":"format"
				},
				{
					"widget":{
						"name":"pingpong"
					},
					"name":"pingpong",
					"label":"pingpong",
					"type":"BOOLEAN",
					"localized_name":"pingpong"
				},
				{
					"widget":{
						"name":"save_output"
					},
					"name":"save_output",
					"label":"save_output",
					"type":"BOOLEAN",
					"localized_name":"save_output"
				},
				{
					"widget":{
						"name":"no_preview"
					},
					"shape":7,
					"name":"no_preview",
					"label":"no_preview",
					"type":"BOOLEAN",
					"localized_name":"no_preview"
				}
			],
			"flags":{
				
			},
			"id":129,
			"type":"VHS_VideoCombine",
			"properties":{
				"cnr_id":"comfyui-videohelpersuite",
				"ver":"0a75c7958fe320efcb052f1d9f8451fd20c730a8",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"VHS_VideoCombine"
			},
			"order":14
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"Filenames",
					"label":"Filenames",
					"type":"VHS_FILENAMES",
					"localized_name":"Filenames"
				}
			],
			"size":[
				1369.7001953125,
				1046.85009765625
			],
			"pos":[
				1883.7340087890625,
				-1294.7630615234375
			],
			"widgets_values":{
				"save_output":true,
				"filename_prefix":"WanVideoWrapper_FlashVSR",
				"loop_count":0,
				"pix_fmt":"yuv420p",
				"save_metadata":true,
				"crf":19,
				"trim_to_audio":false,
				"videopreview":{
					"paused":false,
					"hidden":false,
					"params":{
						"score":"0",
						"filename":"WanVideoWrapper_FlashVSR_00002_p87_jvxbl_1761009067.mp4",
						"workflow":"WanVideoWrapper_FlashVSR_00002_p87.png",
						"fullpath":"/data/ComfyUI/personal/445aa9a89d7fa5567450f91c998092da/output/WanVideoWrapper_FlashVSR_00002_p87.mp4",
						"format":"video/h264-mp4",
						"subfolder":"",
						"label":"Normal",
						"type":"output",
						"frame_rate":16
					}
				},
				"format":"video/h264-mp4",
				"no_preview":false,
				"frame_rate":16,
				"pingpong":false
			},
			"inputs":[
				{
					"name":"images",
					"link":193,
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				},
				{
					"shape":7,
					"name":"audio",
					"label":"audio",
					"type":"AUDIO",
					"localized_name":"audio"
				},
				{
					"shape":7,
					"name":"meta_batch",
					"label":"meta_batch",
					"type":"VHS_BatchManager",
					"localized_name":"meta_batch"
				},
				{
					"shape":7,
					"name":"vae",
					"label":"vae",
					"type":"VAE",
					"localized_name":"vae"
				},
				{
					"widget":{
						"name":"frame_rate"
					},
					"name":"frame_rate",
					"label":"frame_rate",
					"type":"FLOAT",
					"localized_name":"frame_rate"
				},
				{
					"widget":{
						"name":"loop_count"
					},
					"name":"loop_count",
					"label":"loop_count",
					"type":"INT",
					"localized_name":"loop_count"
				},
				{
					"widget":{
						"name":"filename_prefix"
					},
					"name":"filename_prefix",
					"label":"filename_prefix",
					"type":"STRING",
					"localized_name":"filename_prefix"
				},
				{
					"widget":{
						"name":"format"
					},
					"name":"format",
					"label":"format",
					"type":"COMBO",
					"localized_name":"format"
				},
				{
					"widget":{
						"name":"pingpong"
					},
					"name":"pingpong",
					"label":"pingpong",
					"type":"BOOLEAN",
					"localized_name":"pingpong"
				},
				{
					"widget":{
						"name":"save_output"
					},
					"name":"save_output",
					"label":"save_output",
					"type":"BOOLEAN",
					"localized_name":"save_output"
				},
				{
					"widget":{
						"name":"no_preview"
					},
					"shape":7,
					"name":"no_preview",
					"label":"no_preview",
					"type":"BOOLEAN",
					"localized_name":"no_preview"
				}
			],
			"flags":{
				
			},
			"id":30,
			"type":"VHS_VideoCombine",
			"properties":{
				"cnr_id":"comfyui-videohelpersuite",
				"ver":"0a75c7958fe320efcb052f1d9f8451fd20c730a8",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"VHS_VideoCombine"
			},
			"order":16
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						206
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"frame_count",
					"links":[
						216
					],
					"label":"frame_count",
					"type":"INT",
					"localized_name":"frame_count"
				},
				{
					"name":"audio",
					"label":"audio",
					"type":"AUDIO",
					"localized_name":"audio"
				},
				{
					"name":"video_info",
					"label":"video_info",
					"type":"VHS_VIDEOINFO",
					"localized_name":"video_info"
				}
			],
			"size":[
				253.279296875,
				334
			],
			"pos":[
				-526.2142333984375,
				-767.8323364257812
			],
			"widgets_values":{
				"custom_height":0,
				"force_rate":0,
				"custom_width":0,
				"select_every_nth":1,
				"frame_load_cap":161,
				"videopreview":{
					"paused":false,
					"hidden":false,
					"params":{
						"custom_height":480,
						"filename":"dc82a046397b47adb98505f6ed05a9a2c24b86f0a0b77edbfafbfce036cd9ec0.mp4",
						"force_rate":0,
						"custom_width":832,
						"select_every_nth":1,
						"frame_load_cap":161,
						"format":"video/mp4",
						"skip_first_frames":0,
						"type":"input"
					}
				},
				"format":"AnimateDiff",
				"video":"dc82a046397b47adb98505f6ed05a9a2c24b86f0a0b77edbfafbfce036cd9ec0.mp4",
				"skip_first_frames":0,
				"force_size":"Disabled",
				"choose video to upload":"image"
			},
			"inputs":[
				{
					"shape":7,
					"name":"meta_batch",
					"label":"meta_batch",
					"type":"VHS_BatchManager",
					"localized_name":"meta_batch"
				},
				{
					"shape":7,
					"name":"vae",
					"label":"vae",
					"type":"VAE",
					"localized_name":"vae"
				},
				{
					"widget":{
						"name":"video"
					},
					"name":"video",
					"label":"video",
					"type":"STRING",
					"localized_name":"video"
				},
				{
					"widget":{
						"name":"force_rate"
					},
					"name":"force_rate",
					"label":"force_rate",
					"type":"INT",
					"localized_name":"force_rate"
				},
				{
					"widget":{
						"name":"force_size"
					},
					"name":"force_size",
					"label":"force_size",
					"type":"COMBO",
					"localized_name":"force_size"
				},
				{
					"widget":{
						"name":"custom_width"
					},
					"name":"custom_width",
					"label":"custom_width",
					"type":"INT",
					"localized_name":"custom_width"
				},
				{
					"widget":{
						"name":"custom_height"
					},
					"name":"custom_height",
					"label":"custom_height",
					"type":"INT",
					"localized_name":"custom_height"
				},
				{
					"widget":{
						"name":"frame_load_cap"
					},
					"name":"frame_load_cap",
					"label":"frame_load_cap",
					"type":"INT",
					"localized_name":"frame_load_cap"
				},
				{
					"widget":{
						"name":"skip_first_frames"
					},
					"name":"skip_first_frames",
					"label":"skip_first_frames",
					"type":"INT",
					"localized_name":"skip_first_frames"
				},
				{
					"widget":{
						"name":"select_every_nth"
					},
					"name":"select_every_nth",
					"label":"select_every_nth",
					"type":"INT",
					"localized_name":"select_every_nth"
				},
				{
					"widget":{
						"name":"format"
					},
					"shape":7,
					"name":"format",
					"label":"format",
					"type":"COMBO",
					"localized_name":"format"
				}
			],
			"flags":{
				
			},
			"id":123,
			"type":"VHS_LoadVideo",
			"properties":{
				"cnr_id":"comfyui-videohelpersuite",
				"ver":"0edce8ef7ce173ac97a3ed3d6f4636029d1a4530",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"VHS_LoadVideo"
			},
			"order":5
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						186,
						210
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"width",
					"links":[
						189
					],
					"label":"width",
					"type":"INT",
					"localized_name":"width"
				},
				{
					"name":"height",
					"links":[
						190
					],
					"label":"height",
					"type":"INT",
					"localized_name":"height"
				},
				{
					"name":"mask",
					"label":"mask",
					"type":"MASK",
					"localized_name":"mask"
				}
			],
			"size":[
				270,
				336
			],
			"pos":[
				-247.9496612548828,
				-760.802490234375
			],
			"widgets_values":[
				1024,
				1024,
				"lanczos",
				"crop",
				"0, 0, 0",
				"center",
				16,
				"cpu",
				"<tr><td>Output: </td><td><b>161</b> x <b>1024</b> x <b>1024 | 1932.00MB</b></td></tr>30215e4aa030d050158c8567261803c5"
			],
			"inputs":[
				{
					"name":"image",
					"link":206,
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				},
				{
					"shape":7,
					"name":"mask",
					"label":"mask",
					"type":"MASK",
					"localized_name":"mask"
				},
				{
					"widget":{
						"name":"width"
					},
					"name":"width",
					"label":"width",
					"type":"INT",
					"localized_name":"width"
				},
				{
					"widget":{
						"name":"height"
					},
					"name":"height",
					"label":"height",
					"type":"INT",
					"localized_name":"height"
				},
				{
					"widget":{
						"name":"upscale_method"
					},
					"name":"upscale_method",
					"label":"upscale_method",
					"type":"COMBO",
					"localized_name":"upscale_method"
				},
				{
					"widget":{
						"name":"keep_proportion"
					},
					"name":"keep_proportion",
					"label":"keep_proportion",
					"type":"COMBO",
					"localized_name":"keep_proportion"
				},
				{
					"widget":{
						"name":"pad_color"
					},
					"name":"pad_color",
					"label":"pad_color",
					"type":"STRING",
					"localized_name":"pad_color"
				},
				{
					"widget":{
						"name":"crop_position"
					},
					"name":"crop_position",
					"label":"crop_position",
					"type":"COMBO",
					"localized_name":"crop_position"
				},
				{
					"widget":{
						"name":"divisible_by"
					},
					"name":"divisible_by",
					"label":"divisible_by",
					"type":"INT",
					"localized_name":"divisible_by"
				},
				{
					"widget":{
						"name":"device"
					},
					"shape":7,
					"name":"device",
					"label":"device",
					"type":"COMBO",
					"localized_name":"device"
				}
			],
			"flags":{
				
			},
			"id":116,
			"type":"ImageResizeKJv2",
			"properties":{
				"cnr_id":"comfyui-kjnodes",
				"ver":"3fcd22f2fe2be69c3229f192362b91888277cbcb",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"ImageResizeKJv2"
			},
			"order":7
		}
	],
	"extra":{
		"VHS_KeepIntermediate":true,
		"links_added_by_ue":[
			
		],
		"VHS_MetadataImage":true,
		"ue_links":[
			
		],
		"0246.VERSION":[
			0,
			0,
			4
		],
		"VHS_latentpreviewrate":0,
		"frontendVersion":"1.28.1",
		"VHS_latentpreview":true,
		"node_versions":{
			"ComfyUI-WanVideoWrapper":"5a2383621a05825d0d0437781afcb8552d9590fd",
			"ComfyUI-VideoHelperSuite":"0a75c7958fe320efcb052f1d9f8451fd20c730a8",
			"ComfyUI-KJNodes":"a5bd3c86c8ed6b83c55c2d0e7a59515b15a0137f",
			"comfy-core":"0.3.26"
		},
		"ds":{
			"offset":[
				1387.3641106887026,
				2569.893154580528
			],
			"scale":0.15772225476662696
		}
	},
	"groups":[
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":1,
			"title":"Group",
			"bounding":[
				-535.412353515625,
				-1333.463134765625,
				851.1914672851562,
				465.1136169433594
			]
		},
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":2,
			"title":"Group",
			"bounding":[
				-536.2142333984375,
				-841.4323120117188,
				857.21533203125,
				562.7570190429688
			]
		},
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":3,
			"title":"Group",
			"bounding":[
				334.88800048828125,
				-1330.8603515625,
				899.329833984375,
				1099.5792236328125
			]
		},
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":4,
			"title":"Group",
			"bounding":[
				1246.634765625,
				-1325.7567138671875,
				623.577880859375,
				425.8583068847656
			]
		}
	],
	"links":[
		[
			144,
			22,
			0,
			27,
			0,
			"WANVIDEOMODEL"
		],
		[
			162,
			11,
			0,
			104,
			0,
			"WANTEXTENCODER"
		],
		[
			163,
			22,
			0,
			104,
			1,
			"WANVIDEOMODEL"
		],
		[
			166,
			104,
			0,
			27,
			2,
			"WANVIDEOTEXTEMBEDS"
		],
		[
			180,
			113,
			0,
			22,
			4,
			"VACEPATH"
		],
		[
			181,
			78,
			0,
			114,
			0,
			"WANVIDIMAGE_EMBEDS"
		],
		[
			182,
			114,
			0,
			27,
			1,
			"WANVIDIMAGE_EMBEDS"
		],
		[
			186,
			116,
			0,
			114,
			1,
			"IMAGE"
		],
		[
			189,
			116,
			1,
			78,
			2,
			"INT"
		],
		[
			190,
			116,
			2,
			78,
			3,
			"INT"
		],
		[
			193,
			117,
			0,
			30,
			0,
			"IMAGE"
		],
		[
			196,
			27,
			0,
			121,
			1,
			"LATENT"
		],
		[
			206,
			123,
			0,
			116,
			0,
			"IMAGE"
		],
		[
			210,
			116,
			0,
			117,
			0,
			"IMAGE"
		],
		[
			213,
			119,
			0,
			121,
			0,
			"WANVAE"
		],
		[
			214,
			121,
			0,
			126,
			0,
			"IMAGE"
		],
		[
			215,
			126,
			0,
			117,
			1,
			"IMAGE"
		],
		[
			216,
			123,
			1,
			78,
			4,
			"INT"
		],
		[
			219,
			121,
			0,
			129,
			0,
			"IMAGE"
		]
	],
	"id":"206247b6-9fec-4ed2-8927-e4f388c674d4",
	"config":{
		
	},
	"version":0.4,
	"last_node_id":129,
	"revision":0
}