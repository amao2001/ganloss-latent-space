{
	"last_link_id":40,
	"nodes":[
		{
			"outputs":[
				{
					"name":"model",
					"links":[
						7
					],
					"label":"model",
					"type":"WANVIDEOMODEL",
					"localized_name":"model"
				}
			],
			"color":"#223",
			"widgets_values":[
				
			],
			"inputs":[
				{
					"name":"model",
					"link":1,
					"label":"model",
					"type":"WANVIDEOMODEL",
					"localized_name":"model"
				},
				{
					"shape":7,
					"name":"block_swap_args",
					"link":2,
					"label":"block_swap_args",
					"type":"BLOCKSWAPARGS",
					"localized_name":"block_swap_args"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoSetBlockSwap",
			"mode":0,
			"bgcolor":"#335",
			"size":[
				201.76815795898438,
				46
			],
			"pos":[
				1909.5628662109375,
				122.80957794189453
			],
			"id":1,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"5406a72f62adf4a31a8a0a0e4923cc5288399652",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoSetBlockSwap"
			},
			"order":32
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"size":[
				210,
				34
			],
			"pos":[
				1913.73388671875,
				317.0860595703125
			],
			"widgets_values":[
				"vae"
			],
			"inputs":[
				{
					"name":"WANVAE",
					"link":3,
					"label":"WANVAE",
					"type":"WANVAE"
				}
			],
			"flags":{
				"collapsed":true
			},
			"id":2,
			"type":"SetNode",
			"title":"Set_vae",
			"properties":{
				"previousName":"",
				"widget_ue_connectable":{
					
				}
			},
			"order":24
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"size":[
				210,
				34
			],
			"pos":[
				1911.5989990234375,
				365.36590576171875
			],
			"widgets_values":[
				"clip"
			],
			"inputs":[
				{
					"name":"WANTEXTENCODER",
					"link":4,
					"label":"WANTEXTENCODER",
					"type":"WANTEXTENCODER"
				}
			],
			"flags":{
				"collapsed":true
			},
			"id":3,
			"type":"SetNode",
			"title":"Set_clip",
			"properties":{
				"previousName":"",
				"widget_ue_connectable":{
					
				}
			},
			"order":22
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"size":[
				210,
				34
			],
			"pos":[
				1922.6268310546875,
				210.18438720703125
			],
			"widgets_values":[
				"full_model"
			],
			"inputs":[
				{
					"name":"WANVIDEOMODEL",
					"link":6,
					"label":"WANVIDEOMODEL",
					"type":"WANVIDEOMODEL"
				}
			],
			"flags":{
				"collapsed":true
			},
			"id":9,
			"type":"SetNode",
			"title":"Set_full_model",
			"properties":{
				"previousName":"",
				"widget_ue_connectable":{
					
				}
			},
			"order":33
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"size":[
				210,
				34
			],
			"pos":[
				1915.2410888671875,
				253.4131317138672
			],
			"widgets_values":[
				"swapmodel"
			],
			"inputs":[
				{
					"name":"WANVIDEOMODEL",
					"link":7,
					"label":"WANVIDEOMODEL",
					"type":"WANVIDEOMODEL"
				}
			],
			"flags":{
				"collapsed":true
			},
			"id":10,
			"type":"SetNode",
			"title":"Set_swapmodel",
			"properties":{
				"previousName":"",
				"widget_ue_connectable":{
					
				}
			},
			"order":37
		},
		{
			"outputs":[
				{
					"name":"block_swap_args",
					"slot_index":0,
					"links":[
						2
					],
					"label":"block_swap_args",
					"type":"BLOCKSWAPARGS",
					"localized_name":"block_swap_args"
				}
			],
			"color":"#223",
			"widgets_values":[
				30,
				false,
				false,
				true,
				0,
				0,
				false
			],
			"inputs":[
				{
					"widget":{
						"name":"blocks_to_swap"
					},
					"name":"blocks_to_swap",
					"label":"blocks_to_swap",
					"type":"INT",
					"localized_name":"blocks_to_swap"
				},
				{
					"widget":{
						"name":"offload_img_emb"
					},
					"name":"offload_img_emb",
					"label":"offload_img_emb",
					"type":"BOOLEAN",
					"localized_name":"offload_img_emb"
				},
				{
					"widget":{
						"name":"offload_txt_emb"
					},
					"name":"offload_txt_emb",
					"label":"offload_txt_emb",
					"type":"BOOLEAN",
					"localized_name":"offload_txt_emb"
				},
				{
					"widget":{
						"name":"use_non_blocking"
					},
					"shape":7,
					"name":"use_non_blocking",
					"label":"use_non_blocking",
					"type":"BOOLEAN",
					"localized_name":"use_non_blocking"
				},
				{
					"widget":{
						"name":"vace_blocks_to_swap"
					},
					"shape":7,
					"name":"vace_blocks_to_swap",
					"label":"vace_blocks_to_swap",
					"type":"INT",
					"localized_name":"vace_blocks_to_swap"
				},
				{
					"widget":{
						"name":"prefetch_blocks"
					},
					"shape":7,
					"name":"prefetch_blocks",
					"label":"prefetch_blocks",
					"type":"INT",
					"localized_name":"prefetch_blocks"
				},
				{
					"widget":{
						"name":"block_swap_debug"
					},
					"shape":7,
					"name":"block_swap_debug",
					"label":"block_swap_debug",
					"type":"BOOLEAN",
					"localized_name":"block_swap_debug"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoBlockSwap",
			"mode":0,
			"bgcolor":"#335",
			"size":[
				315,
				202
			],
			"pos":[
				1068.2017822265625,
				96.23693084716797
			],
			"id":7,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoBlockSwap"
			},
			"order":0
		},
		{
			"outputs":[
				{
					"name":"wan_t5_model",
					"slot_index":0,
					"links":[
						4
					],
					"label":"wan_t5_model",
					"type":"WANTEXTENCODER",
					"localized_name":"wan_t5_model"
				}
			],
			"color":"#332922",
			"widgets_values":[
				"umt5-xxl-enc-bf16.safetensors",
				"bf16",
				"offload_device",
				"disabled"
			],
			"inputs":[
				{
					"widget":{
						"name":"model_name"
					},
					"name":"model_name",
					"label":"model_name",
					"type":"COMBO",
					"localized_name":"model_name"
				},
				{
					"widget":{
						"name":"precision"
					},
					"name":"precision",
					"label":"precision",
					"type":"COMBO",
					"localized_name":"precision"
				},
				{
					"widget":{
						"name":"load_device"
					},
					"shape":7,
					"name":"load_device",
					"label":"load_device",
					"type":"COMBO",
					"localized_name":"load_device"
				},
				{
					"widget":{
						"name":"quantization"
					},
					"shape":7,
					"name":"quantization",
					"label":"quantization",
					"type":"COMBO",
					"localized_name":"quantization"
				}
			],
			"flags":{
				
			},
			"type":"LoadWanVideoT5TextEncoder",
			"mode":0,
			"bgcolor":"#593930",
			"size":[
				289.587158203125,
				130
			],
			"pos":[
				1080.3448486328125,
				345.9656982421875
			],
			"id":5,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"LoadWanVideoT5TextEncoder"
			},
			"order":1
		},
		{
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"width"
			],
			"inputs":[
				{
					"name":"INT",
					"link":9,
					"label":"INT",
					"type":"INT"
				}
			],
			"flags":{
				
			},
			"type":"SetNode",
			"title":"Set_width",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				60
			],
			"pos":[
				509.06231689453125,
				119.04065704345703
			],
			"id":15,
			"properties":{
				"previousName":"width",
				"widget_ue_connectable":{
					
				}
			},
			"order":23
		},
		{
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"height"
			],
			"inputs":[
				{
					"name":"INT",
					"link":10,
					"label":"INT",
					"type":"INT"
				}
			],
			"flags":{
				
			},
			"type":"SetNode",
			"title":"Set_height",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				510.0623779296875,
				231.24063110351562
			],
			"id":16,
			"properties":{
				"previousName":"height",
				"widget_ue_connectable":{
					
				}
			},
			"order":27
		},
		{
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"frames"
			],
			"inputs":[
				{
					"name":"INT",
					"link":11,
					"label":"INT",
					"type":"INT"
				}
			],
			"flags":{
				
			},
			"type":"SetNode",
			"title":"Set_frames",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				511.8623046875,
				339.440673828125
			],
			"id":18,
			"properties":{
				"previousName":"frames",
				"widget_ue_connectable":{
					
				}
			},
			"order":30
		},
		{
			"outputs":[
				{
					"name":"value",
					"links":[
						9
					],
					"label":"value",
					"type":"INT",
					"localized_name":"value"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				720
			],
			"inputs":[
				{
					"widget":{
						"name":"value"
					},
					"name":"value",
					"label":"value",
					"type":"INT",
					"localized_name":"value"
				}
			],
			"flags":{
				
			},
			"type":"INTConstant",
			"title":"width",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				291.3987121582031,
				119.88855743408203
			],
			"id":13,
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"INTConstant"
			},
			"order":2
		},
		{
			"outputs":[
				{
					"name":"INT",
					"links":[
						12
					],
					"label":"INT",
					"type":"INT"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"width"
			],
			"inputs":[
				
			],
			"flags":{
				"collapsed":true
			},
			"type":"GetNode",
			"title":"Get_width",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				60
			],
			"pos":[
				617.66455078125,
				586.0040893554688
			],
			"id":20,
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":3
		},
		{
			"outputs":[
				{
					"name":"INT",
					"links":[
						13
					],
					"label":"INT",
					"type":"INT"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"height"
			],
			"inputs":[
				
			],
			"flags":{
				"collapsed":true
			},
			"type":"GetNode",
			"title":"Get_height",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				50
			],
			"pos":[
				738.0036010742188,
				586.5425415039062
			],
			"id":21,
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":4
		},
		{
			"outputs":[
				{
					"name":"vae",
					"slot_index":0,
					"links":[
						3
					],
					"label":"vae",
					"type":"WANVAE",
					"localized_name":"vae"
				}
			],
			"color":"#322",
			"widgets_values":[
				"Wan2_1_VAE_bf16.safetensors",
				"bf16"
			],
			"inputs":[
				{
					"shape":7,
					"name":"compile_args",
					"label":"compile_args",
					"type":"WANCOMPILEARGS",
					"localized_name":"compile_args"
				},
				{
					"widget":{
						"name":"model_name"
					},
					"name":"model_name",
					"label":"model_name",
					"type":"COMBO",
					"localized_name":"model_name"
				},
				{
					"widget":{
						"name":"precision"
					},
					"shape":7,
					"name":"precision",
					"label":"precision",
					"type":"COMBO",
					"localized_name":"precision"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoVAELoader",
			"mode":0,
			"bgcolor":"#533",
			"size":[
				286.56134033203125,
				82
			],
			"pos":[
				771.5821533203125,
				292.904296875
			],
			"id":6,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoVAELoader"
			},
			"order":5
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"CLIP_VISION",
					"links":[
						14
					],
					"label":"CLIP_VISION",
					"type":"CLIP_VISION",
					"localized_name":"CLIP_VISION"
				}
			],
			"size":[
				270,
				58
			],
			"pos":[
				777.2374877929688,
				415.6683044433594
			],
			"widgets_values":[
				"clip_vision_h.safetensors"
			],
			"inputs":[
				{
					"widget":{
						"name":"clip_name"
					},
					"name":"clip_name",
					"label":"clip_name",
					"type":"COMBO",
					"localized_name":"clip_name"
				}
			],
			"flags":{
				
			},
			"id":22,
			"type":"CLIPVisionLoader",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"CLIPVisionLoader"
			},
			"order":6
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				1913.3795166015625,
				416.73309326171875
			],
			"widgets_values":[
				"clip_h"
			],
			"inputs":[
				{
					"name":"CLIP_VISION",
					"link":14,
					"label":"CLIP_VISION",
					"type":"CLIP_VISION"
				}
			],
			"flags":{
				"collapsed":true
			},
			"id":23,
			"type":"SetNode",
			"title":"Set_clip_h",
			"properties":{
				"previousName":"clip_h",
				"widget_ue_connectable":{
					
				}
			},
			"order":25
		},
		{
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"color":"#2a363b",
			"widgets_values":[
				"ref_image"
			],
			"inputs":[
				{
					"name":"IMAGE",
					"link":15,
					"label":"IMAGE",
					"type":"IMAGE"
				}
			],
			"flags":{
				
			},
			"type":"SetNode",
			"title":"Set_ref_image",
			"mode":0,
			"bgcolor":"#3f5159",
			"size":[
				210,
				60
			],
			"pos":[
				888.96923828125,
				599.5004272460938
			],
			"id":24,
			"properties":{
				"previousName":"ref_image",
				"widget_ue_connectable":{
					
				}
			},
			"order":34
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"image_embeds",
					"links":[
						18
					],
					"label":"image_embeds",
					"type":"WANVIDIMAGE_CLIPEMBEDS",
					"localized_name":"image_embeds"
				}
			],
			"size":[
				280.9771423339844,
				262
			],
			"pos":[
				1316.36279296875,
				719.0280151367188
			],
			"widgets_values":[
				1,
				1,
				"center",
				"average",
				true,
				0,
				0.5
			],
			"inputs":[
				{
					"name":"clip_vision",
					"link":19,
					"label":"clip_vision",
					"type":"CLIP_VISION",
					"localized_name":"clip_vision"
				},
				{
					"name":"image_1",
					"link":20,
					"label":"image_1",
					"type":"IMAGE",
					"localized_name":"image_1"
				},
				{
					"shape":7,
					"name":"image_2",
					"label":"image_2",
					"type":"IMAGE",
					"localized_name":"image_2"
				},
				{
					"shape":7,
					"name":"negative_image",
					"label":"negative_image",
					"type":"IMAGE",
					"localized_name":"negative_image"
				},
				{
					"widget":{
						"name":"strength_1"
					},
					"name":"strength_1",
					"label":"strength_1",
					"type":"FLOAT",
					"localized_name":"strength_1"
				},
				{
					"widget":{
						"name":"strength_2"
					},
					"name":"strength_2",
					"label":"strength_2",
					"type":"FLOAT",
					"localized_name":"strength_2"
				},
				{
					"widget":{
						"name":"crop"
					},
					"name":"crop",
					"label":"crop",
					"type":"COMBO",
					"localized_name":"crop"
				},
				{
					"widget":{
						"name":"combine_embeds"
					},
					"name":"combine_embeds",
					"label":"combine_embeds",
					"type":"COMBO",
					"localized_name":"combine_embeds"
				},
				{
					"widget":{
						"name":"force_offload"
					},
					"name":"force_offload",
					"label":"force_offload",
					"type":"BOOLEAN",
					"localized_name":"force_offload"
				},
				{
					"widget":{
						"name":"tiles"
					},
					"shape":7,
					"name":"tiles",
					"label":"tiles",
					"type":"INT",
					"localized_name":"tiles"
				},
				{
					"widget":{
						"name":"ratio"
					},
					"shape":7,
					"name":"ratio",
					"label":"ratio",
					"type":"FLOAT",
					"localized_name":"ratio"
				}
			],
			"flags":{
				
			},
			"id":29,
			"type":"WanVideoClipVisionEncode",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoClipVisionEncode"
			},
			"order":26
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"WANVAE",
					"links":[
						16
					],
					"label":"WANVAE",
					"type":"WANVAE"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				1480.716796875,
				611.8548583984375
			],
			"widgets_values":[
				"vae"
			],
			"inputs":[
				
			],
			"flags":{
				"collapsed":true
			},
			"id":26,
			"type":"GetNode",
			"title":"Get_vae",
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":7
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"CLIP_VISION",
					"links":[
						19
					],
					"label":"CLIP_VISION",
					"type":"CLIP_VISION"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				1313.5687255859375,
				675.8557739257812
			],
			"widgets_values":[
				"clip_h"
			],
			"inputs":[
				
			],
			"flags":{
				"collapsed":true
			},
			"id":30,
			"type":"GetNode",
			"title":"Get_clip_h",
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":8
		},
		{
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						20,
						21
					],
					"label":"IMAGE",
					"type":"IMAGE"
				}
			],
			"color":"#2a363b",
			"widgets_values":[
				"ref_image"
			],
			"inputs":[
				
			],
			"flags":{
				"collapsed":true
			},
			"type":"GetNode",
			"title":"Get_ref_image",
			"mode":0,
			"bgcolor":"#3f5159",
			"size":[
				210,
				58
			],
			"pos":[
				1456.5400390625,
				676.7785034179688
			],
			"id":31,
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":9
		},
		{
			"outputs":[
				{
					"name":"INT",
					"links":[
						22
					],
					"label":"INT",
					"type":"INT"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"width"
			],
			"inputs":[
				
			],
			"flags":{
				"collapsed":true
			},
			"type":"GetNode",
			"title":"Get_width",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				1179.20751953125,
				677.0614624023438
			],
			"id":32,
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":10
		},
		{
			"outputs":[
				{
					"name":"INT",
					"links":[
						23
					],
					"label":"INT",
					"type":"INT"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"height"
			],
			"inputs":[
				
			],
			"flags":{
				"collapsed":true
			},
			"type":"GetNode",
			"title":"Get_height",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				1177.118896484375,
				723.8074340820312
			],
			"id":33,
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":11
		},
		{
			"outputs":[
				{
					"name":"INT",
					"links":[
						24
					],
					"label":"INT",
					"type":"INT"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				"frames"
			],
			"inputs":[
				
			],
			"flags":{
				"collapsed":true
			},
			"type":"GetNode",
			"title":"Get_frames",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				1177.2724609375,
				776.9678955078125
			],
			"id":34,
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":12
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"image_embeds",
					"links":[
						25
					],
					"label":"image_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"image_embeds"
				}
			],
			"size":[
				310.1679992675781,
				390
			],
			"pos":[
				1615.31787109375,
				583.8375244140625
			],
			"widgets_values":[
				832,
				480,
				81,
				0,
				1,
				1,
				true,
				true,
				false
			],
			"inputs":[
				{
					"shape":7,
					"name":"vae",
					"link":16,
					"label":"vae",
					"type":"WANVAE",
					"localized_name":"vae"
				},
				{
					"shape":7,
					"name":"clip_embeds",
					"link":18,
					"label":"clip_embeds",
					"type":"WANVIDIMAGE_CLIPEMBEDS",
					"localized_name":"clip_embeds"
				},
				{
					"shape":7,
					"name":"start_image",
					"link":21,
					"label":"start_image",
					"type":"IMAGE",
					"localized_name":"start_image"
				},
				{
					"shape":7,
					"name":"end_image",
					"label":"end_image",
					"type":"IMAGE",
					"localized_name":"end_image"
				},
				{
					"shape":7,
					"name":"control_embeds",
					"label":"control_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"control_embeds"
				},
				{
					"shape":7,
					"name":"temporal_mask",
					"label":"temporal_mask",
					"type":"MASK",
					"localized_name":"temporal_mask"
				},
				{
					"shape":7,
					"name":"extra_latents",
					"label":"extra_latents",
					"type":"LATENT",
					"localized_name":"extra_latents"
				},
				{
					"shape":7,
					"name":"add_cond_latents",
					"label":"add_cond_latents",
					"type":"ADD_COND_LATENTS",
					"localized_name":"add_cond_latents"
				},
				{
					"widget":{
						"name":"width"
					},
					"name":"width",
					"link":22,
					"label":"width",
					"type":"INT",
					"localized_name":"width"
				},
				{
					"widget":{
						"name":"height"
					},
					"name":"height",
					"link":23,
					"label":"height",
					"type":"INT",
					"localized_name":"height"
				},
				{
					"widget":{
						"name":"num_frames"
					},
					"name":"num_frames",
					"link":24,
					"label":"num_frames",
					"type":"INT",
					"localized_name":"num_frames"
				},
				{
					"widget":{
						"name":"noise_aug_strength"
					},
					"name":"noise_aug_strength",
					"label":"noise_aug_strength",
					"type":"FLOAT",
					"localized_name":"noise_aug_strength"
				},
				{
					"widget":{
						"name":"start_latent_strength"
					},
					"name":"start_latent_strength",
					"label":"start_latent_strength",
					"type":"FLOAT",
					"localized_name":"start_latent_strength"
				},
				{
					"widget":{
						"name":"end_latent_strength"
					},
					"name":"end_latent_strength",
					"label":"end_latent_strength",
					"type":"FLOAT",
					"localized_name":"end_latent_strength"
				},
				{
					"widget":{
						"name":"force_offload"
					},
					"name":"force_offload",
					"label":"force_offload",
					"type":"BOOLEAN",
					"localized_name":"force_offload"
				},
				{
					"widget":{
						"name":"fun_or_fl2v_model"
					},
					"shape":7,
					"name":"fun_or_fl2v_model",
					"label":"fun_or_fl2v_model",
					"type":"BOOLEAN",
					"localized_name":"fun_or_fl2v_model"
				},
				{
					"widget":{
						"name":"tiled_vae"
					},
					"shape":7,
					"name":"tiled_vae",
					"label":"tiled_vae",
					"type":"BOOLEAN",
					"localized_name":"tiled_vae"
				}
			],
			"flags":{
				
			},
			"id":25,
			"type":"WanVideoImageToVideoEncode",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoImageToVideoEncode"
			},
			"order":31
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"*",
					"links":[
						
					],
					"label":"*",
					"type":"*"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				1945.27392578125,
				592.9812622070312
			],
			"widgets_values":[
				"image_embeds"
			],
			"inputs":[
				{
					"name":"WANVIDIMAGE_EMBEDS",
					"link":25,
					"label":"WANVIDIMAGE_EMBEDS",
					"type":"WANVIDIMAGE_EMBEDS"
				}
			],
			"flags":{
				"collapsed":true
			},
			"id":35,
			"type":"SetNode",
			"title":"Set_image_embeds",
			"properties":{
				"previousName":"image_embeds",
				"widget_ue_connectable":{
					
				}
			},
			"order":36
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"WANVIDIMAGE_EMBEDS",
					"links":[
						29
					],
					"label":"WANVIDIMAGE_EMBEDS",
					"type":"WANVIDIMAGE_EMBEDS"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				2340.7744140625,
				145.28175354003906
			],
			"widgets_values":[
				"image_embeds"
			],
			"inputs":[
				
			],
			"flags":{
				"collapsed":true
			},
			"id":39,
			"type":"GetNode",
			"title":"Get_image_embeds",
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":13
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"WANVIDEOMODEL",
					"links":[
						27
					],
					"label":"WANVIDEOMODEL",
					"type":"WANVIDEOMODEL"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				2163.560546875,
				147.1450958251953
			],
			"widgets_values":[
				"swapmodel"
			],
			"inputs":[
				
			],
			"flags":{
				"collapsed":true
			},
			"id":37,
			"type":"GetNode",
			"title":"Get_swapmodel",
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":14
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"WANTEXTENCODER",
					"links":[
						30
					],
					"label":"WANTEXTENCODER",
					"type":"WANTEXTENCODER"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				2162.662353515625,
				195.6177215576172
			],
			"widgets_values":[
				"clip"
			],
			"inputs":[
				
			],
			"flags":{
				"collapsed":true
			},
			"id":40,
			"type":"GetNode",
			"title":"Get_clip",
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":15
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"WANVIDEOMODEL",
					"links":[
						31
					],
					"label":"WANVIDEOMODEL",
					"type":"WANVIDEOMODEL"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				2284.630126953125,
				195.6177978515625
			],
			"widgets_values":[
				"full_model"
			],
			"inputs":[
				
			],
			"flags":{
				"collapsed":true
			},
			"id":41,
			"type":"GetNode",
			"title":"Get_full_model",
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":16
		},
		{
			"outputs":[
				{
					"name":"images",
					"slot_index":0,
					"links":[
						34,
						35
					],
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				}
			],
			"color":"#322",
			"widgets_values":[
				false,
				272,
				272,
				144,
				128,
				"default"
			],
			"inputs":[
				{
					"name":"vae",
					"link":32,
					"label":"vae",
					"type":"WANVAE",
					"localized_name":"vae"
				},
				{
					"name":"samples",
					"link":33,
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				},
				{
					"widget":{
						"name":"enable_vae_tiling"
					},
					"name":"enable_vae_tiling",
					"label":"enable_vae_tiling",
					"type":"BOOLEAN",
					"localized_name":"enable_vae_tiling"
				},
				{
					"widget":{
						"name":"tile_x"
					},
					"name":"tile_x",
					"label":"tile_x",
					"type":"INT",
					"localized_name":"tile_x"
				},
				{
					"widget":{
						"name":"tile_y"
					},
					"name":"tile_y",
					"label":"tile_y",
					"type":"INT",
					"localized_name":"tile_y"
				},
				{
					"widget":{
						"name":"tile_stride_x"
					},
					"name":"tile_stride_x",
					"label":"tile_stride_x",
					"type":"INT",
					"localized_name":"tile_stride_x"
				},
				{
					"widget":{
						"name":"tile_stride_y"
					},
					"name":"tile_stride_y",
					"label":"tile_stride_y",
					"type":"INT",
					"localized_name":"tile_stride_y"
				},
				{
					"widget":{
						"name":"normalization"
					},
					"shape":7,
					"name":"normalization",
					"label":"normalization",
					"type":"COMBO",
					"localized_name":"normalization"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoDecode",
			"mode":0,
			"bgcolor":"#533",
			"size":[
				315,
				198
			],
			"pos":[
				2925.222412109375,
				230.58932495117188
			],
			"id":43,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoDecode"
			},
			"order":41
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						36
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"MASK",
					"label":"MASK",
					"type":"MASK",
					"localized_name":"MASK"
				}
			],
			"size":[
				294.5403137207031,
				102
			],
			"pos":[
				2935.9384765625,
				486.4094543457031
			],
			"widgets_values":[
				-1,
				1
			],
			"inputs":[
				{
					"shape":7,
					"name":"images",
					"link":35,
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				},
				{
					"shape":7,
					"name":"masks",
					"label":"masks",
					"type":"MASK",
					"localized_name":"masks"
				},
				{
					"widget":{
						"name":"start_index"
					},
					"name":"start_index",
					"label":"start_index",
					"type":"INT",
					"localized_name":"start_index"
				},
				{
					"widget":{
						"name":"num_frames"
					},
					"name":"num_frames",
					"label":"num_frames",
					"type":"INT",
					"localized_name":"num_frames"
				}
			],
			"flags":{
				
			},
			"id":46,
			"type":"GetImageRangeFromBatch",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"GetImageRangeFromBatch"
			},
			"order":43
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"WANVAE",
					"links":[
						32
					],
					"label":"WANVAE",
					"type":"WANVAE"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				2936.935302734375,
				124.00285339355469
			],
			"widgets_values":[
				"vae"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"id":44,
			"type":"GetNode",
			"title":"Get_vae",
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":17
		},
		{
			"mode":0,
			"outputs":[
				
			],
			"size":[
				398.9697265625,
				734.0276489257812
			],
			"pos":[
				3679.346435546875,
				98.44183349609375
			],
			"widgets_values":[
				"ComfyUI"
			],
			"inputs":[
				{
					"name":"images",
					"link":36,
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				},
				{
					"widget":{
						"name":"filename_prefix"
					},
					"name":"filename_prefix",
					"label":"filename_prefix",
					"type":"STRING",
					"localized_name":"filename_prefix"
				}
			],
			"flags":{
				
			},
			"id":47,
			"type":"SaveImage",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"SaveImage"
			},
			"order":44
		},
		{
			"outputs":[
				{
					"name":"value",
					"links":[
						10
					],
					"label":"value",
					"type":"INT",
					"localized_name":"value"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				1280
			],
			"inputs":[
				{
					"widget":{
						"name":"value"
					},
					"name":"value",
					"label":"value",
					"type":"INT",
					"localized_name":"value"
				}
			],
			"flags":{
				
			},
			"type":"INTConstant",
			"title":"height",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				292.5136413574219,
				230.18887329101562
			],
			"id":14,
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"INTConstant"
			},
			"order":18
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"Filenames",
					"label":"Filenames",
					"type":"VHS_FILENAMES",
					"localized_name":"Filenames"
				}
			],
			"size":[
				346.48260498046875,
				952.4135131835938
			],
			"pos":[
				3273.011474609375,
				106.51531219482422
			],
			"widgets_values":{
				"save_output":true,
				"filename_prefix":"AnimateDiff",
				"loop_count":0,
				"pix_fmt":"yuv420p",
				"save_metadata":true,
				"crf":19,
				"trim_to_audio":false,
				"videopreview":{
					"paused":false,
					"hidden":false,
					"params":{
						"score":"0",
						"filename":"AnimateDiff_00001_p87_cpacf_1762485956.mp4",
						"workflow":"AnimateDiff_00001_p87.png",
						"fullpath":"/data/ComfyUI/personal/445aa9a89d7fa5567450f91c998092da/output/AnimateDiff_00001_p87.mp4",
						"format":"video/h264-mp4",
						"subfolder":"",
						"label":"Normal",
						"type":"output",
						"frame_rate":8
					}
				},
				"format":"video/h264-mp4",
				"no_preview":false,
				"frame_rate":8,
				"pingpong":false
			},
			"inputs":[
				{
					"name":"images",
					"link":34,
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				},
				{
					"shape":7,
					"name":"audio",
					"label":"audio",
					"type":"AUDIO",
					"localized_name":"audio"
				},
				{
					"shape":7,
					"name":"meta_batch",
					"label":"meta_batch",
					"type":"VHS_BatchManager",
					"localized_name":"meta_batch"
				},
				{
					"shape":7,
					"name":"vae",
					"label":"vae",
					"type":"VAE",
					"localized_name":"vae"
				},
				{
					"widget":{
						"name":"frame_rate"
					},
					"name":"frame_rate",
					"label":"frame_rate",
					"type":"FLOAT",
					"localized_name":"frame_rate"
				},
				{
					"widget":{
						"name":"loop_count"
					},
					"name":"loop_count",
					"label":"loop_count",
					"type":"INT",
					"localized_name":"loop_count"
				},
				{
					"widget":{
						"name":"filename_prefix"
					},
					"name":"filename_prefix",
					"label":"filename_prefix",
					"type":"STRING",
					"localized_name":"filename_prefix"
				},
				{
					"widget":{
						"name":"format"
					},
					"name":"format",
					"label":"format",
					"type":"COMBO",
					"localized_name":"format"
				},
				{
					"widget":{
						"name":"pingpong"
					},
					"name":"pingpong",
					"label":"pingpong",
					"type":"BOOLEAN",
					"localized_name":"pingpong"
				},
				{
					"widget":{
						"name":"save_output"
					},
					"name":"save_output",
					"label":"save_output",
					"type":"BOOLEAN",
					"localized_name":"save_output"
				},
				{
					"widget":{
						"name":"no_preview"
					},
					"shape":7,
					"name":"no_preview",
					"label":"no_preview",
					"type":"BOOLEAN",
					"localized_name":"no_preview"
				}
			],
			"flags":{
				
			},
			"id":42,
			"type":"VHS_VideoCombine",
			"properties":{
				"cnr_id":"comfyui-videohelpersuite",
				"ver":"1.7.2",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"VHS_VideoCombine"
			},
			"order":42
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"samples",
					"slot_index":0,
					"links":[
						33
					],
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				},
				{
					"name":"denoised_samples",
					"label":"denoised_samples",
					"type":"LATENT",
					"localized_name":"denoised_samples"
				}
			],
			"size":[
				315,
				711.8857421875
			],
			"pos":[
				2553.611572265625,
				119.44286346435547
			],
			"widgets_values":[
				8,
				1.0000000000000002,
				2.0000000000000004,
				88576172029720,
				"randomize",
				true,
				"euler",
				0,
				1,
				"",
				"comfy",
				0,
				-1,
				false
			],
			"inputs":[
				{
					"name":"model",
					"link":27,
					"label":"model",
					"type":"WANVIDEOMODEL",
					"localized_name":"model"
				},
				{
					"name":"image_embeds",
					"link":29,
					"label":"image_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"image_embeds"
				},
				{
					"shape":7,
					"name":"text_embeds",
					"link":28,
					"label":"text_embeds",
					"type":"WANVIDEOTEXTEMBEDS",
					"localized_name":"text_embeds"
				},
				{
					"shape":7,
					"name":"samples",
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				},
				{
					"shape":7,
					"name":"feta_args",
					"label":"feta_args",
					"type":"FETAARGS",
					"localized_name":"feta_args"
				},
				{
					"shape":7,
					"name":"context_options",
					"label":"context_options",
					"type":"WANVIDCONTEXT",
					"localized_name":"context_options"
				},
				{
					"shape":7,
					"name":"cache_args",
					"label":"cache_args",
					"type":"CACHEARGS",
					"localized_name":"cache_args"
				},
				{
					"shape":7,
					"name":"flowedit_args",
					"label":"flowedit_args",
					"type":"FLOWEDITARGS",
					"localized_name":"flowedit_args"
				},
				{
					"shape":7,
					"name":"slg_args",
					"label":"slg_args",
					"type":"SLGARGS",
					"localized_name":"slg_args"
				},
				{
					"shape":7,
					"name":"loop_args",
					"label":"loop_args",
					"type":"LOOPARGS",
					"localized_name":"loop_args"
				},
				{
					"shape":7,
					"name":"experimental_args",
					"label":"experimental_args",
					"type":"EXPERIMENTALARGS",
					"localized_name":"experimental_args"
				},
				{
					"shape":7,
					"name":"sigmas",
					"label":"sigmas",
					"type":"SIGMAS",
					"localized_name":"sigmas"
				},
				{
					"shape":7,
					"name":"unianimate_poses",
					"label":"unianimate_poses",
					"type":"UNIANIMATE_POSE",
					"localized_name":"unianimate_poses"
				},
				{
					"shape":7,
					"name":"fantasytalking_embeds",
					"label":"fantasytalking_embeds",
					"type":"FANTASYTALKING_EMBEDS",
					"localized_name":"fantasytalking_embeds"
				},
				{
					"shape":7,
					"name":"uni3c_embeds",
					"label":"uni3c_embeds",
					"type":"UNI3C_EMBEDS",
					"localized_name":"uni3c_embeds"
				},
				{
					"shape":7,
					"name":"multitalk_embeds",
					"label":"multitalk_embeds",
					"type":"MULTITALK_EMBEDS",
					"localized_name":"multitalk_embeds"
				},
				{
					"shape":7,
					"name":"freeinit_args",
					"label":"freeinit_args",
					"type":"FREEINITARGS",
					"localized_name":"freeinit_args"
				},
				{
					"widget":{
						"name":"steps"
					},
					"name":"steps",
					"label":"steps",
					"type":"INT",
					"localized_name":"steps"
				},
				{
					"widget":{
						"name":"cfg"
					},
					"name":"cfg",
					"label":"cfg",
					"type":"FLOAT",
					"localized_name":"cfg"
				},
				{
					"widget":{
						"name":"shift"
					},
					"name":"shift",
					"label":"shift",
					"type":"FLOAT",
					"localized_name":"shift"
				},
				{
					"widget":{
						"name":"seed"
					},
					"name":"seed",
					"label":"seed",
					"type":"INT",
					"localized_name":"seed"
				},
				{
					"widget":{
						"name":"force_offload"
					},
					"name":"force_offload",
					"label":"force_offload",
					"type":"BOOLEAN",
					"localized_name":"force_offload"
				},
				{
					"widget":{
						"name":"scheduler"
					},
					"name":"scheduler",
					"label":"scheduler",
					"type":"COMBO",
					"localized_name":"scheduler"
				},
				{
					"widget":{
						"name":"riflex_freq_index"
					},
					"name":"riflex_freq_index",
					"label":"riflex_freq_index",
					"type":"INT",
					"localized_name":"riflex_freq_index"
				},
				{
					"widget":{
						"name":"denoise_strength"
					},
					"shape":7,
					"name":"denoise_strength",
					"label":"denoise_strength",
					"type":"FLOAT",
					"localized_name":"denoise_strength"
				},
				{
					"widget":{
						"name":"batched_cfg"
					},
					"shape":7,
					"name":"batched_cfg",
					"label":"batched_cfg",
					"type":"BOOLEAN",
					"localized_name":"batched_cfg"
				},
				{
					"widget":{
						"name":"rope_function"
					},
					"shape":7,
					"name":"rope_function",
					"label":"rope_function",
					"type":"COMBO",
					"localized_name":"rope_function"
				},
				{
					"widget":{
						"name":"start_step"
					},
					"shape":7,
					"name":"start_step",
					"label":"start_step",
					"type":"INT",
					"localized_name":"start_step"
				},
				{
					"widget":{
						"name":"end_step"
					},
					"shape":7,
					"name":"end_step",
					"label":"end_step",
					"type":"INT",
					"localized_name":"end_step"
				},
				{
					"widget":{
						"name":"add_noise_to_samples"
					},
					"shape":7,
					"name":"add_noise_to_samples",
					"label":"add_noise_to_samples",
					"type":"BOOLEAN",
					"localized_name":"add_noise_to_samples"
				}
			],
			"flags":{
				
			},
			"id":36,
			"type":"WanVideoSampler",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoSampler"
			},
			"order":40
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"lora",
					"links":[
						8
					],
					"label":"lora",
					"type":"WANVIDLORA",
					"localized_name":"lora"
				}
			],
			"size":[
				270,
				150
			],
			"pos":[
				773.0183715820312,
				103.57122039794922
			],
			"widgets_values":[
				"chronoedit_distill_lora.safetensors",
				1,
				false,
				true
			],
			"inputs":[
				{
					"shape":7,
					"name":"prev_lora",
					"label":"prev_lora",
					"type":"WANVIDLORA",
					"localized_name":"prev_lora"
				},
				{
					"shape":7,
					"name":"blocks",
					"label":"blocks",
					"type":"SELECTEDBLOCKS",
					"localized_name":"blocks"
				},
				{
					"widget":{
						"name":"lora"
					},
					"name":"lora",
					"label":"lora",
					"type":"COMBO",
					"localized_name":"lora"
				},
				{
					"widget":{
						"name":"strength"
					},
					"name":"strength",
					"label":"strength",
					"type":"FLOAT",
					"localized_name":"strength"
				},
				{
					"widget":{
						"name":"low_mem_load"
					},
					"shape":7,
					"name":"low_mem_load",
					"label":"low_mem_load",
					"type":"BOOLEAN",
					"localized_name":"low_mem_load"
				},
				{
					"widget":{
						"name":"merge_loras"
					},
					"shape":7,
					"name":"merge_loras",
					"label":"merge_loras",
					"type":"BOOLEAN",
					"localized_name":"merge_loras"
				}
			],
			"flags":{
				
			},
			"id":11,
			"type":"WanVideoLoraSelect",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoLoraSelect"
			},
			"order":19
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						37
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"MASK",
					"label":"MASK",
					"type":"MASK",
					"localized_name":"MASK"
				}
			],
			"size":[
				277.58306884765625,
				479.43658447265625
			],
			"pos":[
				307.8254699707031,
				586.0039672851562
			],
			"widgets_values":[
				"0b9ff63b9f65136ad5322aeb823b38ac4a20de3f4c6a875096c2989c13eba179.png",
				"image"
			],
			"inputs":[
				{
					"widget":{
						"name":"image"
					},
					"name":"image",
					"label":"image",
					"type":"COMBO",
					"localized_name":"image"
				},
				{
					"widget":{
						"name":"upload"
					},
					"name":"upload",
					"label":"upload",
					"type":"IMAGEUPLOAD",
					"localized_name":"choose file to upload"
				}
			],
			"flags":{
				
			},
			"id":12,
			"type":"LoadImage",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"LoadImage"
			},
			"order":20
		},
		{
			"outputs":[
				{
					"name":"model",
					"slot_index":0,
					"links":[
						1,
						6
					],
					"label":"model",
					"type":"WANVIDEOMODEL",
					"localized_name":"model"
				}
			],
			"color":"#223",
			"widgets_values":[
				"Wan2_1-14B-I2V_ChronoEdit_fp8_scaled_KJ.safetensors",
				"fp16",
				"fp8_e4m3fn",
				"offload_device",
				"sageattn",
				"default"
			],
			"inputs":[
				{
					"shape":7,
					"name":"compile_args",
					"label":"compile_args",
					"type":"WANCOMPILEARGS",
					"localized_name":"compile_args"
				},
				{
					"shape":7,
					"name":"block_swap_args",
					"label":"block_swap_args",
					"type":"BLOCKSWAPARGS",
					"localized_name":"block_swap_args"
				},
				{
					"shape":7,
					"name":"lora",
					"link":8,
					"label":"lora",
					"type":"WANVIDLORA",
					"localized_name":"lora"
				},
				{
					"shape":7,
					"name":"vram_management_args",
					"label":"vram_management_args",
					"type":"VRAM_MANAGEMENTARGS",
					"localized_name":"vram_management_args"
				},
				{
					"shape":7,
					"name":"extra_model",
					"label":"extra_model",
					"type":"VACEPATH",
					"localized_name":"extra_model"
				},
				{
					"shape":7,
					"name":"fantasytalking_model",
					"label":"fantasytalking_model",
					"type":"FANTASYTALKINGMODEL",
					"localized_name":"fantasytalking_model"
				},
				{
					"shape":7,
					"name":"multitalk_model",
					"label":"multitalk_model",
					"type":"MULTITALKMODEL",
					"localized_name":"multitalk_model"
				},
				{
					"shape":7,
					"name":"fantasyportrait_model",
					"label":"fantasyportrait_model",
					"type":"FANTASYPORTRAITMODEL",
					"localized_name":"fantasyportrait_model"
				},
				{
					"widget":{
						"name":"model"
					},
					"name":"model",
					"label":"model",
					"type":"COMBO",
					"localized_name":"model"
				},
				{
					"widget":{
						"name":"base_precision"
					},
					"name":"base_precision",
					"label":"base_precision",
					"type":"COMBO",
					"localized_name":"base_precision"
				},
				{
					"widget":{
						"name":"quantization"
					},
					"name":"quantization",
					"label":"quantization",
					"type":"COMBO",
					"localized_name":"quantization"
				},
				{
					"widget":{
						"name":"load_device"
					},
					"name":"load_device",
					"label":"load_device",
					"type":"COMBO",
					"localized_name":"load_device"
				},
				{
					"widget":{
						"name":"attention_mode"
					},
					"shape":7,
					"name":"attention_mode",
					"label":"attention_mode",
					"type":"COMBO",
					"localized_name":"attention_mode"
				},
				{
					"widget":{
						"name":"rms_norm_function"
					},
					"shape":7,
					"name":"rms_norm_function",
					"label":"rms_norm_function",
					"type":"COMBO",
					"localized_name":"rms_norm_function"
				},
				{
					"shape":7,
					"name":"vace_model",
					"label":"vace_model",
					"type":"VACEPATH"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoModelLoader",
			"mode":0,
			"bgcolor":"#335",
			"size":[
				477.4410095214844,
				338
			],
			"pos":[
				1400.06396484375,
				116.09559631347656
			],
			"id":4,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoModelLoader"
			},
			"order":28
		},
		{
			"mode":0,
			"outputs":[
				
			],
			"size":[
				528.849853515625,
				169.0889892578125
			],
			"pos":[
				1761.084716796875,
				-374.3379821777344
			],
			"widgets_values":[
				
			],
			"inputs":[
				{
					"name":"source",
					"link":38,
					"label":"source",
					"type":"*",
					"localized_name":"source"
				}
			],
			"flags":{
				
			},
			"id":49,
			"type":"PreviewAny",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"PreviewAny"
			},
			"order":38
		},
		{
			"outputs":[
				{
					"name":"text_embeds",
					"slot_index":0,
					"links":[
						28
					],
					"label":"text_embeds",
					"type":"WANVIDEOTEXTEMBEDS",
					"localized_name":"text_embeds"
				}
			],
			"color":"#332922",
			"widgets_values":[
				"Rotate the pose of the girl in this image so that she is facing the camera",
				"色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走",
				true,
				false,
				"gpu"
			],
			"inputs":[
				{
					"shape":7,
					"name":"t5",
					"link":30,
					"label":"t5",
					"type":"WANTEXTENCODER",
					"localized_name":"t5"
				},
				{
					"shape":7,
					"name":"model_to_offload",
					"link":31,
					"label":"model_to_offload",
					"type":"WANVIDEOMODEL",
					"localized_name":"model_to_offload"
				},
				{
					"widget":{
						"name":"positive_prompt"
					},
					"name":"positive_prompt",
					"link":40,
					"label":"positive_prompt",
					"type":"STRING",
					"localized_name":"positive_prompt"
				},
				{
					"widget":{
						"name":"negative_prompt"
					},
					"name":"negative_prompt",
					"label":"negative_prompt",
					"type":"STRING",
					"localized_name":"negative_prompt"
				},
				{
					"widget":{
						"name":"force_offload"
					},
					"shape":7,
					"name":"force_offload",
					"label":"force_offload",
					"type":"BOOLEAN",
					"localized_name":"force_offload"
				},
				{
					"widget":{
						"name":"use_disk_cache"
					},
					"shape":7,
					"name":"use_disk_cache",
					"label":"use_disk_cache",
					"type":"BOOLEAN",
					"localized_name":"use_disk_cache"
				},
				{
					"widget":{
						"name":"device"
					},
					"shape":7,
					"name":"device",
					"label":"device",
					"type":"COMBO",
					"localized_name":"device"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoTextEncode",
			"mode":0,
			"bgcolor":"#593930",
			"size":[
				348.7751159667969,
				234
			],
			"pos":[
				2172.274658203125,
				244.9130859375
			],
			"id":38,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoTextEncode"
			},
			"order":39
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						15,
						39
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"width",
					"label":"width",
					"type":"INT",
					"localized_name":"width"
				},
				{
					"name":"height",
					"label":"height",
					"type":"INT",
					"localized_name":"height"
				},
				{
					"name":"mask",
					"label":"mask",
					"type":"MASK",
					"localized_name":"mask"
				}
			],
			"size":[
				270,
				336
			],
			"pos":[
				611.6915283203125,
				626.22216796875
			],
			"widgets_values":[
				512,
				512,
				"nearest-exact",
				"stretch",
				"0, 0, 0",
				"center",
				16,
				"cpu",
				"<tr><td>Output: </td><td><b>1</b> x <b>720</b> x <b>1280 | 10.55MB</b></td></tr>3fa68e641141a44cfa5aa7c7964323ea"
			],
			"inputs":[
				{
					"name":"image",
					"link":37,
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				},
				{
					"shape":7,
					"name":"mask",
					"label":"mask",
					"type":"MASK",
					"localized_name":"mask"
				},
				{
					"widget":{
						"name":"width"
					},
					"name":"width",
					"link":12,
					"label":"width",
					"type":"INT",
					"localized_name":"width"
				},
				{
					"widget":{
						"name":"height"
					},
					"name":"height",
					"link":13,
					"label":"height",
					"type":"INT",
					"localized_name":"height"
				},
				{
					"widget":{
						"name":"upscale_method"
					},
					"name":"upscale_method",
					"label":"upscale_method",
					"type":"COMBO",
					"localized_name":"upscale_method"
				},
				{
					"widget":{
						"name":"keep_proportion"
					},
					"name":"keep_proportion",
					"label":"keep_proportion",
					"type":"COMBO",
					"localized_name":"keep_proportion"
				},
				{
					"widget":{
						"name":"pad_color"
					},
					"name":"pad_color",
					"label":"pad_color",
					"type":"STRING",
					"localized_name":"pad_color"
				},
				{
					"widget":{
						"name":"crop_position"
					},
					"name":"crop_position",
					"label":"crop_position",
					"type":"COMBO",
					"localized_name":"crop_position"
				},
				{
					"widget":{
						"name":"divisible_by"
					},
					"name":"divisible_by",
					"label":"divisible_by",
					"type":"INT",
					"localized_name":"divisible_by"
				},
				{
					"widget":{
						"name":"device"
					},
					"shape":7,
					"name":"device",
					"label":"device",
					"type":"COMBO",
					"localized_name":"device"
				}
			],
			"flags":{
				
			},
			"id":19,
			"type":"ImageResizeKJv2",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"ImageResizeKJv2"
			},
			"order":29
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"text",
					"links":[
						38,
						40
					],
					"label":"text",
					"type":"STRING",
					"localized_name":"text"
				}
			],
			"size":[
				731.1580810546875,
				384.5614013671875
			],
			"pos":[
				960.6182250976562,
				-420.001953125
			],
			"widgets_values":[
				"Qwen3-VL-4B-Instruct-FP8",
				"8-bit (Balanced)",
				"Describe this image in detail.",
				"system instruction\n---\nYou are a professional edit instruction rewriter and prompt engineer. Your task is to generate a precise, concise, and visually achievable chain-of-thought reasoning based on the user-provided instruction and the image to be edited.\n\nYou have the following information:\n1. The user provides an image (the original image to be edited)\n2. question text: {input_prompt}\n\nYour task is NOT to output the final answer or the edited image. Instead, you must:\n- Generate a \"thinking\" or chain-of-thought process that explains how you reason about the editing task.\n- First identify the task type, then provide reasoning/analysis that leads to how the image should be edited.\n- Always describe pose and appearance in detail.\n- Match the original visual style or genre (anime, CG art, cinematic, poster). If not explicit, choose a stylistically appropriate one based on the image.\n- Incorporate motion and camera direction when relevant (e.g., walking, turning, dolly in/out, pan), implying natural human/character motion and interactions.\n- Maintain quoted phrases or titles exactly (e.g., character names, series names). Do not translate or alter the original language of text.\n\n## Task Type Handling Rules:\n\n**1. Standard Editing Tasks (e.g., Add, Delete, Replace, Action Change):**\n- For replacement tasks, specify what to replace and key visual features of the new element.\n- For text editing tasks, specify text position, color, and layout concisely.\n- If the user wants to \"extract\" something, this means they want to remove the background and only keep the specified object isolated. We should add \"while removing the background\" to the reasoning.\n- Explicitly note what must stay unchanged: appearances (hairstyle, clothing, expression, skin tone/race, age), posture, pose, visual style/genre, spatial layout, and shot composition (e.g., medium shot, close-up, side view).\n\n**2. Character Consistency Editing Tasks (e.g., Scenario Change):**\n- For tasks that place an object/character (e.g., human, robot, animal) in a completely new scenario, preserve the object's core identity (appearance, materials, key features) but adapt its pose, interaction, and context to fit naturally in the new environment.\n- Reason about how the object should interact with the new scenario (e.g., pose changes, hand positions, orientation, facial direction).\n- The background and context should transform completely to match the new scenario while maintaining visual coherence.\n- Describe both what stays the same (core appearance) and what must change (pose, interaction, setting) to make the scene look realistic and natural.\n\nThe length of outputs should be **around 80 - 100 words** to fully describe the transformation. Always start with \"The user wants to ...\"\n\nExample Output 1 (Standard Editing Task):\nThe user wants to make the knight kneel on his right knee while keeping the rest of the pose intact. \nThe knight should lower his stance so his right leg bends to the ground in a kneeling position, with the left leg bent upright to support balance. \nThe shield with the NVIDIA logo should still be held up firmly in his left hand, angled forward in a defensive posture, while the right hand continues gripping the weapon. \nThe armor reflections, proportions, and medieval style should remain consistent, emphasizing a powerful and respectful kneeling stance.\n\nExample Output 2 (Character Consistency Editing Task):\nThe user wants to change the image by modifying the scene so that the woman is drinking coffee in a cozy coffee shop. \nThe elegant anime-style woman keeps her same graceful expression, long flowing dark hair adorned with golden ornaments, and detailed traditional outfit with red and gold floral patterns. \nShe is now seated at a wooden café table, holding a steaming cup of coffee near her lips with one hand, while soft sunlight filters through the window, highlighting her refined features. \nThe background transforms into a warmly lit café interior with subtle reflections, bookshelves, and gentle ambience, maintaining the delicate, painterly aesthetic.\n---\nuser input:Rotate the pose of the girl in this image so that she is facing the camera",
				128,
				true,
				924526115474202,
				"randomize"
			],
			"inputs":[
				{
					"shape":7,
					"name":"image",
					"link":39,
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				},
				{
					"shape":7,
					"name":"video",
					"label":"video",
					"type":"IMAGE",
					"localized_name":"video"
				},
				{
					"widget":{
						"name":"model_name"
					},
					"name":"model_name",
					"label":"model_name",
					"type":"COMBO",
					"localized_name":"model_name"
				},
				{
					"widget":{
						"name":"quantization"
					},
					"name":"quantization",
					"label":"quantization",
					"type":"COMBO",
					"localized_name":"quantization"
				},
				{
					"widget":{
						"name":"preset_prompt"
					},
					"name":"preset_prompt",
					"label":"preset_prompt",
					"type":"COMBO",
					"localized_name":"preset_prompt"
				},
				{
					"widget":{
						"name":"custom_prompt"
					},
					"name":"custom_prompt",
					"label":"custom_prompt",
					"type":"STRING",
					"localized_name":"custom_prompt"
				},
				{
					"widget":{
						"name":"max_tokens"
					},
					"name":"max_tokens",
					"label":"max_tokens",
					"type":"INT",
					"localized_name":"max_tokens"
				},
				{
					"widget":{
						"name":"keep_model_loaded"
					},
					"name":"keep_model_loaded",
					"label":"keep_model_loaded",
					"type":"BOOLEAN",
					"localized_name":"keep_model_loaded"
				},
				{
					"widget":{
						"name":"seed"
					},
					"name":"seed",
					"label":"seed",
					"type":"INT",
					"localized_name":"seed"
				}
			],
			"flags":{
				
			},
			"id":48,
			"type":"AILab_QwenVL",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"AILab_QwenVL"
			},
			"order":35
		},
		{
			"outputs":[
				{
					"name":"value",
					"links":[
						11
					],
					"label":"value",
					"type":"INT",
					"localized_name":"value"
				}
			],
			"color":"#1b4669",
			"widgets_values":[
				17
			],
			"inputs":[
				{
					"widget":{
						"name":"value"
					},
					"name":"value",
					"label":"value",
					"type":"INT",
					"localized_name":"value"
				}
			],
			"flags":{
				
			},
			"type":"INTConstant",
			"title":"frames",
			"mode":0,
			"bgcolor":"#29699c",
			"size":[
				210,
				58
			],
			"pos":[
				287.930419921875,
				340.60418701171875
			],
			"id":17,
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"INTConstant"
			},
			"order":21
		}
	],
	"extra":{
		"links_added_by_ue":[
			
		],
		"ue_links":[
			
		],
		"0246.VERSION":[
			0,
			0,
			4
		],
		"ds":{
			"offset":[
				-2488.4417926580923,
				-126.69048310104472
			],
			"scale":0.5989500000000022
		}
	},
	"groups":[
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":1,
			"title":"model",
			"bounding":[
				754.8630981445312,
				32.316951751708984,
				1367.347900390625,
				452.3348693847656
			]
		},
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":2,
			"title":"config",
			"bounding":[
				277.9304504394531,
				45.4406623840332,
				453.9320068359375,
				363.16351318359375
			]
		},
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":3,
			"title":"refimg",
			"bounding":[
				297.8254699707031,
				512.40380859375,
				825.4940185546875,
				608.5130004882812
			]
		},
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":4,
			"title":"Group",
			"bounding":[
				1167.118896484375,
				510.2375183105469,
				972.5955810546875,
				490.9913635253906
			]
		},
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":5,
			"title":"sampling",
			"bounding":[
				2152.662353515625,
				45.84284973144531,
				741.4100952148438,
				948.806396484375
			]
		}
	],
	"links":[
		[
			1,
			4,
			0,
			1,
			0,
			"WANVIDEOMODEL"
		],
		[
			2,
			7,
			0,
			1,
			1,
			"BLOCKSWAPARGS"
		],
		[
			3,
			6,
			0,
			2,
			0,
			"*"
		],
		[
			4,
			5,
			0,
			3,
			0,
			"*"
		],
		[
			6,
			4,
			0,
			9,
			0,
			"*"
		],
		[
			7,
			1,
			0,
			10,
			0,
			"*"
		],
		[
			8,
			11,
			0,
			4,
			2,
			"WANVIDLORA"
		],
		[
			9,
			13,
			0,
			15,
			0,
			"*"
		],
		[
			10,
			14,
			0,
			16,
			0,
			"*"
		],
		[
			11,
			17,
			0,
			18,
			0,
			"*"
		],
		[
			12,
			20,
			0,
			19,
			2,
			"INT"
		],
		[
			13,
			21,
			0,
			19,
			3,
			"INT"
		],
		[
			14,
			22,
			0,
			23,
			0,
			"*"
		],
		[
			15,
			19,
			0,
			24,
			0,
			"*"
		],
		[
			16,
			26,
			0,
			25,
			0,
			"WANVAE"
		],
		[
			18,
			29,
			0,
			25,
			1,
			"WANVIDIMAGE_CLIPEMBEDS"
		],
		[
			19,
			30,
			0,
			29,
			0,
			"CLIP_VISION"
		],
		[
			20,
			31,
			0,
			29,
			1,
			"IMAGE"
		],
		[
			21,
			31,
			0,
			25,
			2,
			"IMAGE"
		],
		[
			22,
			32,
			0,
			25,
			8,
			"INT"
		],
		[
			23,
			33,
			0,
			25,
			9,
			"INT"
		],
		[
			24,
			34,
			0,
			25,
			10,
			"INT"
		],
		[
			25,
			25,
			0,
			35,
			0,
			"*"
		],
		[
			27,
			37,
			0,
			36,
			0,
			"WANVIDEOMODEL"
		],
		[
			28,
			38,
			0,
			36,
			2,
			"WANVIDEOTEXTEMBEDS"
		],
		[
			29,
			39,
			0,
			36,
			1,
			"WANVIDIMAGE_EMBEDS"
		],
		[
			30,
			40,
			0,
			38,
			0,
			"WANTEXTENCODER"
		],
		[
			31,
			41,
			0,
			38,
			1,
			"WANVIDEOMODEL"
		],
		[
			32,
			44,
			0,
			43,
			0,
			"WANVAE"
		],
		[
			33,
			36,
			0,
			43,
			1,
			"LATENT"
		],
		[
			34,
			43,
			0,
			42,
			0,
			"IMAGE"
		],
		[
			35,
			43,
			0,
			46,
			0,
			"IMAGE"
		],
		[
			36,
			46,
			0,
			47,
			0,
			"IMAGE"
		],
		[
			37,
			12,
			0,
			19,
			0,
			"IMAGE"
		],
		[
			38,
			48,
			0,
			49,
			0,
			"*"
		],
		[
			39,
			19,
			0,
			48,
			0,
			"IMAGE"
		],
		[
			40,
			48,
			0,
			38,
			2,
			"STRING"
		]
	],
	"id":"b4162ee2-bf6d-4bb7-8800-b97fb2436cb4",
	"config":{
		
	},
	"version":0.4,
	"last_node_id":49,
	"revision":0
}