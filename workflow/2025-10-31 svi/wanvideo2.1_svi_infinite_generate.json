{
	"last_link_id":119,
	"nodes":[
		{
			"mode":0,
			"outputs":[
				{
					"name":"lora",
					"links":[
						93
					],
					"label":"lora",
					"type":"WANVIDLORA",
					"localized_name":"lora"
				}
			],
			"size":[
				271.8785095214844,
				342
			],
			"pos":[
				-1009.4800415039062,
				-858.5454711914062
			],
			"widgets_values":[
				"lightx2v_I2V_14B_480p_cfg_step_distill_rank256_bf16.safetensors",
				1,
				"svi-shot_lora_rank_128_fp16.safetensors",
				1,
				"none",
				1,
				"none",
				1,
				"none",
				1,
				false,
				true
			],
			"inputs":[
				{
					"shape":7,
					"name":"prev_lora",
					"label":"prev_lora",
					"type":"WANVIDLORA",
					"localized_name":"prev_lora"
				},
				{
					"shape":7,
					"name":"blocks",
					"label":"blocks",
					"type":"SELECTEDBLOCKS",
					"localized_name":"blocks"
				},
				{
					"widget":{
						"name":"lora_0"
					},
					"name":"lora_0",
					"label":"lora_0",
					"type":"COMBO",
					"localized_name":"lora_0"
				},
				{
					"widget":{
						"name":"strength_0"
					},
					"name":"strength_0",
					"label":"strength_0",
					"type":"FLOAT",
					"localized_name":"strength_0"
				},
				{
					"widget":{
						"name":"lora_1"
					},
					"name":"lora_1",
					"label":"lora_1",
					"type":"COMBO",
					"localized_name":"lora_1"
				},
				{
					"widget":{
						"name":"strength_1"
					},
					"name":"strength_1",
					"label":"strength_1",
					"type":"FLOAT",
					"localized_name":"strength_1"
				},
				{
					"widget":{
						"name":"lora_2"
					},
					"name":"lora_2",
					"label":"lora_2",
					"type":"COMBO",
					"localized_name":"lora_2"
				},
				{
					"widget":{
						"name":"strength_2"
					},
					"name":"strength_2",
					"label":"strength_2",
					"type":"FLOAT",
					"localized_name":"strength_2"
				},
				{
					"widget":{
						"name":"lora_3"
					},
					"name":"lora_3",
					"label":"lora_3",
					"type":"COMBO",
					"localized_name":"lora_3"
				},
				{
					"widget":{
						"name":"strength_3"
					},
					"name":"strength_3",
					"label":"strength_3",
					"type":"FLOAT",
					"localized_name":"strength_3"
				},
				{
					"widget":{
						"name":"lora_4"
					},
					"name":"lora_4",
					"label":"lora_4",
					"type":"COMBO",
					"localized_name":"lora_4"
				},
				{
					"widget":{
						"name":"strength_4"
					},
					"name":"strength_4",
					"label":"strength_4",
					"type":"FLOAT",
					"localized_name":"strength_4"
				},
				{
					"widget":{
						"name":"low_mem_load"
					},
					"shape":7,
					"name":"low_mem_load",
					"label":"low_mem_load",
					"type":"BOOLEAN",
					"localized_name":"low_mem_load"
				},
				{
					"widget":{
						"name":"merge_loras"
					},
					"shape":7,
					"name":"merge_loras",
					"label":"merge_loras",
					"type":"BOOLEAN",
					"localized_name":"merge_loras"
				}
			],
			"flags":{
				
			},
			"id":71,
			"type":"WanVideoLoraSelectMulti",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoLoraSelectMulti"
			},
			"order":0
		},
		{
			"outputs":[
				{
					"name":"block_swap_args",
					"slot_index":0,
					"links":[
						92
					],
					"label":"block_swap_args",
					"type":"BLOCKSWAPARGS",
					"localized_name":"block_swap_args"
				}
			],
			"color":"#223",
			"widgets_values":[
				30,
				false,
				false,
				true,
				0,
				0,
				false
			],
			"inputs":[
				{
					"widget":{
						"name":"blocks_to_swap"
					},
					"name":"blocks_to_swap",
					"label":"blocks_to_swap",
					"type":"INT",
					"localized_name":"blocks_to_swap"
				},
				{
					"widget":{
						"name":"offload_img_emb"
					},
					"name":"offload_img_emb",
					"label":"offload_img_emb",
					"type":"BOOLEAN",
					"localized_name":"offload_img_emb"
				},
				{
					"widget":{
						"name":"offload_txt_emb"
					},
					"name":"offload_txt_emb",
					"label":"offload_txt_emb",
					"type":"BOOLEAN",
					"localized_name":"offload_txt_emb"
				},
				{
					"widget":{
						"name":"use_non_blocking"
					},
					"shape":7,
					"name":"use_non_blocking",
					"label":"use_non_blocking",
					"type":"BOOLEAN",
					"localized_name":"use_non_blocking"
				},
				{
					"widget":{
						"name":"vace_blocks_to_swap"
					},
					"shape":7,
					"name":"vace_blocks_to_swap",
					"label":"vace_blocks_to_swap",
					"type":"INT",
					"localized_name":"vace_blocks_to_swap"
				},
				{
					"widget":{
						"name":"prefetch_blocks"
					},
					"shape":7,
					"name":"prefetch_blocks",
					"label":"prefetch_blocks",
					"type":"INT",
					"localized_name":"prefetch_blocks"
				},
				{
					"widget":{
						"name":"block_swap_debug"
					},
					"shape":7,
					"name":"block_swap_debug",
					"label":"block_swap_debug",
					"type":"BOOLEAN",
					"localized_name":"block_swap_debug"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoBlockSwap",
			"mode":0,
			"bgcolor":"#335",
			"size":[
				315,
				202
			],
			"pos":[
				-706.1483764648438,
				-867.8631591796875
			],
			"id":39,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoBlockSwap"
			},
			"order":1
		},
		{
			"outputs":[
				{
					"name":"wan_t5_model",
					"slot_index":0,
					"links":[
						101
					],
					"label":"wan_t5_model",
					"type":"WANTEXTENCODER",
					"localized_name":"wan_t5_model"
				}
			],
			"color":"#332922",
			"widgets_values":[
				"umt5-xxl-enc-bf16.safetensors",
				"bf16",
				"offload_device",
				"disabled"
			],
			"inputs":[
				{
					"widget":{
						"name":"model_name"
					},
					"name":"model_name",
					"label":"model_name",
					"type":"COMBO",
					"localized_name":"model_name"
				},
				{
					"widget":{
						"name":"precision"
					},
					"name":"precision",
					"label":"precision",
					"type":"COMBO",
					"localized_name":"precision"
				},
				{
					"widget":{
						"name":"load_device"
					},
					"shape":7,
					"name":"load_device",
					"label":"load_device",
					"type":"COMBO",
					"localized_name":"load_device"
				},
				{
					"widget":{
						"name":"quantization"
					},
					"shape":7,
					"name":"quantization",
					"label":"quantization",
					"type":"COMBO",
					"localized_name":"quantization"
				}
			],
			"flags":{
				
			},
			"type":"LoadWanVideoT5TextEncoder",
			"mode":0,
			"bgcolor":"#593930",
			"size":[
				289.587158203125,
				130
			],
			"pos":[
				-703.4619140625,
				-615.9631958007812
			],
			"id":11,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"LoadWanVideoT5TextEncoder"
			},
			"order":2
		},
		{
			"outputs":[
				{
					"name":"model",
					"links":[
						95
					],
					"label":"model",
					"type":"WANVIDEOMODEL",
					"localized_name":"model"
				}
			],
			"color":"#223",
			"widgets_values":[
				
			],
			"inputs":[
				{
					"name":"model",
					"link":90,
					"label":"model",
					"type":"WANVIDEOMODEL",
					"localized_name":"model"
				},
				{
					"shape":7,
					"name":"block_swap_args",
					"link":92,
					"label":"block_swap_args",
					"type":"BLOCKSWAPARGS",
					"localized_name":"block_swap_args"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoSetBlockSwap",
			"mode":0,
			"bgcolor":"#335",
			"size":[
				201.76815795898438,
				46
			],
			"pos":[
				140.2044677734375,
				-855.0830078125
			],
			"id":70,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"5406a72f62adf4a31a8a0a0e4923cc5288399652",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoSetBlockSwap"
			},
			"order":18
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				141.09930419921875,
				-752.9718627929688
			],
			"widgets_values":[
				"full_model"
			],
			"inputs":[
				{
					"name":"WANVIDEOMODEL",
					"link":94,
					"label":"WANVIDEOMODEL",
					"type":"WANVIDEOMODEL"
				}
			],
			"flags":{
				"collapsed":true
			},
			"id":72,
			"type":"SetNode",
			"title":"Set_full_model",
			"properties":{
				"previousName":"full_model",
				"widget_ue_connectable":{
					
				}
			},
			"order":19
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				138.18121337890625,
				-709.5499267578125
			],
			"widgets_values":[
				"swapmodel"
			],
			"inputs":[
				{
					"name":"WANVIDEOMODEL",
					"link":95,
					"label":"WANVIDEOMODEL",
					"type":"WANVIDEOMODEL"
				}
			],
			"flags":{
				"collapsed":true
			},
			"id":73,
			"type":"SetNode",
			"title":"Set_swapmodel",
			"properties":{
				"previousName":"swapmodel",
				"widget_ue_connectable":{
					
				}
			},
			"order":22
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				144.37545776367188,
				-660.8065795898438
			],
			"widgets_values":[
				"vae"
			],
			"inputs":[
				{
					"name":"WANVAE",
					"link":97,
					"label":"WANVAE",
					"type":"WANVAE"
				}
			],
			"flags":{
				"collapsed":true
			},
			"id":75,
			"type":"SetNode",
			"title":"Set_vae",
			"properties":{
				"previousName":"vae",
				"widget_ue_connectable":{
					
				}
			},
			"order":16
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				142.2406005859375,
				-612.5267333984375
			],
			"widgets_values":[
				"clip"
			],
			"inputs":[
				{
					"name":"WANTEXTENCODER",
					"link":101,
					"label":"WANTEXTENCODER",
					"type":"WANTEXTENCODER"
				}
			],
			"flags":{
				"collapsed":true
			},
			"id":79,
			"type":"SetNode",
			"title":"Set_clip",
			"properties":{
				"previousName":"clip",
				"widget_ue_connectable":{
					
				}
			},
			"order":15
		},
		{
			"outputs":[
				{
					"name":"CLIP_VISION",
					"links":[
						70
					],
					"label":"CLIP_VISION",
					"type":"CLIP_VISION",
					"localized_name":"CLIP_VISION"
				}
			],
			"color":"#233",
			"widgets_values":[
				"clip_vision_h.safetensors"
			],
			"inputs":[
				{
					"widget":{
						"name":"clip_name"
					},
					"name":"clip_name",
					"label":"clip_name",
					"type":"COMBO",
					"localized_name":"clip_name"
				}
			],
			"flags":{
				
			},
			"type":"CLIPVisionLoader",
			"mode":0,
			"bgcolor":"#355",
			"size":[
				315,
				58
			],
			"pos":[
				-993.7765502929688,
				-265.7932434082031
			],
			"id":59,
			"properties":{
				"cnr_id":"comfy-core",
				"ver":"0.3.26",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"CLIPVisionLoader"
			},
			"order":3
		},
		{
			"outputs":[
				{
					"name":"text_embeds",
					"slot_index":0,
					"links":[
						30
					],
					"label":"text_embeds",
					"type":"WANVIDEOTEXTEMBEDS",
					"localized_name":"text_embeds"
				}
			],
			"color":"#332922",
			"widgets_values":[
				"an old man is stroking his beard thoughtfully",
				"色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走",
				true,
				false,
				"gpu"
			],
			"inputs":[
				{
					"shape":7,
					"name":"t5",
					"link":102,
					"label":"t5",
					"type":"WANTEXTENCODER",
					"localized_name":"t5"
				},
				{
					"shape":7,
					"name":"model_to_offload",
					"link":96,
					"label":"model_to_offload",
					"type":"WANVIDEOMODEL",
					"localized_name":"model_to_offload"
				},
				{
					"widget":{
						"name":"positive_prompt"
					},
					"name":"positive_prompt",
					"link":117,
					"label":"positive_prompt",
					"type":"STRING",
					"localized_name":"positive_prompt"
				},
				{
					"widget":{
						"name":"negative_prompt"
					},
					"name":"negative_prompt",
					"label":"negative_prompt",
					"type":"STRING",
					"localized_name":"negative_prompt"
				},
				{
					"widget":{
						"name":"force_offload"
					},
					"shape":7,
					"name":"force_offload",
					"label":"force_offload",
					"type":"BOOLEAN",
					"localized_name":"force_offload"
				},
				{
					"widget":{
						"name":"use_disk_cache"
					},
					"shape":7,
					"name":"use_disk_cache",
					"label":"use_disk_cache",
					"type":"BOOLEAN",
					"localized_name":"use_disk_cache"
				},
				{
					"widget":{
						"name":"device"
					},
					"shape":7,
					"name":"device",
					"label":"device",
					"type":"COMBO",
					"localized_name":"device"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoTextEncode",
			"mode":0,
			"bgcolor":"#593930",
			"size":[
				373.9430236816406,
				234
			],
			"pos":[
				395.22296142578125,
				-702.888671875
			],
			"id":16,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoTextEncode"
			},
			"order":25
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"WANVIDEOMODEL",
					"links":[
						96
					],
					"label":"WANVIDEOMODEL",
					"type":"WANVIDEOMODEL"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				402.85028076171875,
				-753.6851806640625
			],
			"widgets_values":[
				"full_model"
			],
			"inputs":[
				
			],
			"flags":{
				"collapsed":true
			},
			"id":74,
			"type":"GetNode",
			"title":"Get_full_model",
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":4
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"WANTEXTENCODER",
					"links":[
						102
					],
					"label":"WANTEXTENCODER",
					"type":"WANTEXTENCODER"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				559.97607421875,
				-751.5208740234375
			],
			"widgets_values":[
				"clip"
			],
			"inputs":[
				
			],
			"flags":{
				"collapsed":true
			},
			"id":80,
			"type":"GetNode",
			"title":"Get_clip",
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":5
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"WANVIDIMAGE_EMBEDS",
					"links":[
						100
					],
					"label":"WANVIDIMAGE_EMBEDS",
					"type":"WANVIDIMAGE_EMBEDS"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				399.427978515625,
				-800.7763671875
			],
			"widgets_values":[
				"image_embed"
			],
			"inputs":[
				
			],
			"flags":{
				"collapsed":true
			},
			"id":78,
			"type":"GetNode",
			"title":"Get_image_embed",
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":6
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"WANVIDEOMODEL",
					"links":[
						104
					],
					"label":"WANVIDEOMODEL",
					"type":"WANVIDEOMODEL"
				}
			],
			"size":[
				210,
				58
			],
			"pos":[
				404.17816162109375,
				-848.118408203125
			],
			"widgets_values":[
				"swapmodel"
			],
			"inputs":[
				
			],
			"flags":{
				"collapsed":true
			},
			"id":82,
			"type":"GetNode",
			"title":"Get_swapmodel",
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":7
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"WANVAE",
					"links":[
						103
					],
					"label":"WANVAE",
					"type":"WANVAE"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				604.78466796875,
				-802.2686767578125
			],
			"widgets_values":[
				"vae"
			],
			"inputs":[
				
			],
			"flags":{
				"collapsed":true
			},
			"id":81,
			"type":"GetNode",
			"title":"Get_vae",
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":8
		},
		{
			"outputs":[
				{
					"name":"images",
					"slot_index":0,
					"links":[
						36
					],
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				}
			],
			"color":"#322",
			"widgets_values":[
				false,
				272,
				272,
				144,
				128,
				"default"
			],
			"inputs":[
				{
					"name":"vae",
					"link":103,
					"label":"vae",
					"type":"WANVAE",
					"localized_name":"vae"
				},
				{
					"name":"samples",
					"link":33,
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				},
				{
					"widget":{
						"name":"enable_vae_tiling"
					},
					"name":"enable_vae_tiling",
					"label":"enable_vae_tiling",
					"type":"BOOLEAN",
					"localized_name":"enable_vae_tiling"
				},
				{
					"widget":{
						"name":"tile_x"
					},
					"name":"tile_x",
					"label":"tile_x",
					"type":"INT",
					"localized_name":"tile_x"
				},
				{
					"widget":{
						"name":"tile_y"
					},
					"name":"tile_y",
					"label":"tile_y",
					"type":"INT",
					"localized_name":"tile_y"
				},
				{
					"widget":{
						"name":"tile_stride_x"
					},
					"name":"tile_stride_x",
					"label":"tile_stride_x",
					"type":"INT",
					"localized_name":"tile_stride_x"
				},
				{
					"widget":{
						"name":"tile_stride_y"
					},
					"name":"tile_stride_y",
					"label":"tile_stride_y",
					"type":"INT",
					"localized_name":"tile_stride_y"
				},
				{
					"widget":{
						"name":"normalization"
					},
					"shape":7,
					"name":"normalization",
					"label":"normalization",
					"type":"COMBO",
					"localized_name":"normalization"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoDecode",
			"mode":0,
			"bgcolor":"#533",
			"size":[
				315,
				198
			],
			"pos":[
				1235.4111328125,
				-867.1624755859375
			],
			"id":28,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoDecode"
			},
			"order":28
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"*",
					"label":"*",
					"type":"*"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				14.712103843688965,
				163.8516845703125
			],
			"widgets_values":[
				"image_embed"
			],
			"inputs":[
				{
					"name":"WANVIDIMAGE_EMBEDS",
					"link":99,
					"label":"WANVIDIMAGE_EMBEDS",
					"type":"WANVIDIMAGE_EMBEDS"
				}
			],
			"flags":{
				"collapsed":true
			},
			"id":77,
			"type":"SetNode",
			"title":"Set_image_embed",
			"properties":{
				"previousName":"image_embed",
				"widget_ue_connectable":{
					
				}
			},
			"order":26
		},
		{
			"outputs":[
				{
					"name":"image_embeds",
					"links":[
						82
					],
					"label":"image_embeds",
					"type":"WANVIDIMAGE_CLIPEMBEDS",
					"localized_name":"image_embeds"
				}
			],
			"color":"#233",
			"widgets_values":[
				1,
				1,
				"center",
				"average",
				true,
				0,
				0.20000000000000004
			],
			"inputs":[
				{
					"name":"clip_vision",
					"link":70,
					"label":"clip_vision",
					"type":"CLIP_VISION",
					"localized_name":"clip_vision"
				},
				{
					"name":"image_1",
					"link":85,
					"label":"image_1",
					"type":"IMAGE",
					"localized_name":"image_1"
				},
				{
					"shape":7,
					"name":"image_2",
					"label":"image_2",
					"type":"IMAGE",
					"localized_name":"image_2"
				},
				{
					"shape":7,
					"name":"negative_image",
					"label":"negative_image",
					"type":"IMAGE",
					"localized_name":"negative_image"
				},
				{
					"widget":{
						"name":"strength_1"
					},
					"name":"strength_1",
					"label":"strength_1",
					"type":"FLOAT",
					"localized_name":"strength_1"
				},
				{
					"widget":{
						"name":"strength_2"
					},
					"name":"strength_2",
					"label":"strength_2",
					"type":"FLOAT",
					"localized_name":"strength_2"
				},
				{
					"widget":{
						"name":"crop"
					},
					"name":"crop",
					"label":"crop",
					"type":"COMBO",
					"localized_name":"crop"
				},
				{
					"widget":{
						"name":"combine_embeds"
					},
					"name":"combine_embeds",
					"label":"combine_embeds",
					"type":"COMBO",
					"localized_name":"combine_embeds"
				},
				{
					"widget":{
						"name":"force_offload"
					},
					"name":"force_offload",
					"label":"force_offload",
					"type":"BOOLEAN",
					"localized_name":"force_offload"
				},
				{
					"widget":{
						"name":"tiles"
					},
					"shape":7,
					"name":"tiles",
					"label":"tiles",
					"type":"INT",
					"localized_name":"tiles"
				},
				{
					"widget":{
						"name":"ratio"
					},
					"shape":7,
					"name":"ratio",
					"label":"ratio",
					"type":"FLOAT",
					"localized_name":"ratio"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoClipVisionEncode",
			"mode":0,
			"bgcolor":"#355",
			"size":[
				327.5999755859375,
				262
			],
			"pos":[
				-372.8258972167969,
				-267.8333740234375
			],
			"id":65,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoClipVisionEncode"
			},
			"order":20
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"WANVAE",
					"links":[
						98
					],
					"label":"WANVAE",
					"type":"WANVAE"
				}
			],
			"size":[
				210,
				60
			],
			"pos":[
				-365.969482421875,
				44.54972457885742
			],
			"widgets_values":[
				"vae"
			],
			"inputs":[
				
			],
			"flags":{
				"collapsed":true
			},
			"id":76,
			"type":"GetNode",
			"title":"Get_vae",
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":9
		},
		{
			"outputs":[
				{
					"name":"model",
					"slot_index":0,
					"links":[
						90,
						94
					],
					"label":"model",
					"type":"WANVIDEOMODEL",
					"localized_name":"model"
				}
			],
			"color":"#223",
			"widgets_values":[
				"Wan2_1-I2V-14B-480p_fp8_e4m3fn_scaled_KJ.safetensors",
				"fp16",
				"fp8_e4m3fn",
				"offload_device",
				"sdpa",
				"default"
			],
			"inputs":[
				{
					"shape":7,
					"name":"compile_args",
					"label":"compile_args",
					"type":"WANCOMPILEARGS",
					"localized_name":"compile_args"
				},
				{
					"shape":7,
					"name":"block_swap_args",
					"label":"block_swap_args",
					"type":"BLOCKSWAPARGS",
					"localized_name":"block_swap_args"
				},
				{
					"shape":7,
					"name":"lora",
					"link":93,
					"label":"lora",
					"type":"WANVIDLORA",
					"localized_name":"lora"
				},
				{
					"shape":7,
					"name":"vram_management_args",
					"label":"vram_management_args",
					"type":"VRAM_MANAGEMENTARGS",
					"localized_name":"vram_management_args"
				},
				{
					"shape":7,
					"name":"extra_model",
					"label":"extra_model",
					"type":"VACEPATH",
					"localized_name":"extra_model"
				},
				{
					"shape":7,
					"name":"fantasytalking_model",
					"label":"fantasytalking_model",
					"type":"FANTASYTALKINGMODEL",
					"localized_name":"fantasytalking_model"
				},
				{
					"shape":7,
					"name":"multitalk_model",
					"label":"multitalk_model",
					"type":"MULTITALKMODEL",
					"localized_name":"multitalk_model"
				},
				{
					"shape":7,
					"name":"fantasyportrait_model",
					"label":"fantasyportrait_model",
					"type":"FANTASYPORTRAITMODEL",
					"localized_name":"fantasyportrait_model"
				},
				{
					"widget":{
						"name":"model"
					},
					"name":"model",
					"label":"model",
					"type":"COMBO",
					"localized_name":"model"
				},
				{
					"widget":{
						"name":"base_precision"
					},
					"name":"base_precision",
					"label":"base_precision",
					"type":"COMBO",
					"localized_name":"base_precision"
				},
				{
					"widget":{
						"name":"quantization"
					},
					"name":"quantization",
					"label":"quantization",
					"type":"COMBO",
					"localized_name":"quantization"
				},
				{
					"widget":{
						"name":"load_device"
					},
					"name":"load_device",
					"label":"load_device",
					"type":"COMBO",
					"localized_name":"load_device"
				},
				{
					"widget":{
						"name":"attention_mode"
					},
					"shape":7,
					"name":"attention_mode",
					"label":"attention_mode",
					"type":"COMBO",
					"localized_name":"attention_mode"
				},
				{
					"widget":{
						"name":"rms_norm_function"
					},
					"shape":7,
					"name":"rms_norm_function",
					"label":"rms_norm_function",
					"type":"COMBO",
					"localized_name":"rms_norm_function"
				},
				{
					"shape":7,
					"name":"vace_model",
					"label":"vace_model",
					"type":"VACEPATH"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoModelLoader",
			"mode":0,
			"bgcolor":"#335",
			"size":[
				477.4410095214844,
				338
			],
			"pos":[
				-369.29400634765625,
				-861.7969970703125
			],
			"id":22,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoModelLoader"
			},
			"order":14
		},
		{
			"outputs":[
				{
					"name":"vae",
					"slot_index":0,
					"links":[
						97
					],
					"label":"vae",
					"type":"WANVAE",
					"localized_name":"vae"
				}
			],
			"color":"#322",
			"widgets_values":[
				"Wan2_1_VAE_bf16.safetensors",
				"bf16"
			],
			"inputs":[
				{
					"shape":7,
					"name":"compile_args",
					"label":"compile_args",
					"type":"WANCOMPILEARGS",
					"localized_name":"compile_args"
				},
				{
					"widget":{
						"name":"model_name"
					},
					"name":"model_name",
					"label":"model_name",
					"type":"COMBO",
					"localized_name":"model_name"
				},
				{
					"widget":{
						"name":"precision"
					},
					"shape":7,
					"name":"precision",
					"label":"precision",
					"type":"COMBO",
					"localized_name":"precision"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoVAELoader",
			"mode":0,
			"bgcolor":"#533",
			"size":[
				286.56134033203125,
				82
			],
			"pos":[
				-363.4725646972656,
				-477.25286865234375
			],
			"id":38,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoVAELoader"
			},
			"order":10
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						85,
						86,
						114
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"width",
					"links":[
						87
					],
					"label":"width",
					"type":"INT",
					"localized_name":"width"
				},
				{
					"name":"height",
					"links":[
						88
					],
					"label":"height",
					"type":"INT",
					"localized_name":"height"
				},
				{
					"name":"mask",
					"label":"mask",
					"type":"MASK",
					"localized_name":"mask"
				}
			],
			"size":[
				270,
				336
			],
			"pos":[
				-662.6751098632812,
				-249.2059783935547
			],
			"widgets_values":[
				832,
				480,
				"lanczos",
				"crop",
				"0, 0, 0",
				"center",
				16,
				"cpu"
			],
			"inputs":[
				{
					"name":"image",
					"link":84,
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				},
				{
					"shape":7,
					"name":"mask",
					"label":"mask",
					"type":"MASK",
					"localized_name":"mask"
				},
				{
					"widget":{
						"name":"width"
					},
					"name":"width",
					"label":"width",
					"type":"INT",
					"localized_name":"width"
				},
				{
					"widget":{
						"name":"height"
					},
					"name":"height",
					"label":"height",
					"type":"INT",
					"localized_name":"height"
				},
				{
					"widget":{
						"name":"upscale_method"
					},
					"name":"upscale_method",
					"label":"upscale_method",
					"type":"COMBO",
					"localized_name":"upscale_method"
				},
				{
					"widget":{
						"name":"keep_proportion"
					},
					"name":"keep_proportion",
					"label":"keep_proportion",
					"type":"COMBO",
					"localized_name":"keep_proportion"
				},
				{
					"widget":{
						"name":"pad_color"
					},
					"name":"pad_color",
					"label":"pad_color",
					"type":"STRING",
					"localized_name":"pad_color"
				},
				{
					"widget":{
						"name":"crop_position"
					},
					"name":"crop_position",
					"label":"crop_position",
					"type":"COMBO",
					"localized_name":"crop_position"
				},
				{
					"widget":{
						"name":"divisible_by"
					},
					"name":"divisible_by",
					"label":"divisible_by",
					"type":"INT",
					"localized_name":"divisible_by"
				},
				{
					"widget":{
						"name":"device"
					},
					"shape":7,
					"name":"device",
					"label":"device",
					"type":"COMBO",
					"localized_name":"device"
				}
			],
			"flags":{
				
			},
			"id":68,
			"type":"ImageResizeKJv2",
			"properties":{
				"cnr_id":"comfyui-kjnodes",
				"ver":"ad37ce656c13e9abea002b46e3a89be3dba32355",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"ImageResizeKJv2"
			},
			"order":17
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"samples",
					"slot_index":0,
					"links":[
						33
					],
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				},
				{
					"name":"denoised_samples",
					"label":"denoised_samples",
					"type":"LATENT",
					"localized_name":"denoised_samples"
				}
			],
			"size":[
				410.92547607421875,
				695.0789794921875
			],
			"pos":[
				800.3040161132812,
				-859.3974609375
			],
			"widgets_values":[
				4,
				1,
				5,
				1057359483639287,
				"fixed",
				true,
				"lcm",
				0,
				1,
				"",
				"comfy",
				0,
				-1,
				false
			],
			"inputs":[
				{
					"name":"model",
					"link":104,
					"label":"model",
					"type":"WANVIDEOMODEL",
					"localized_name":"model"
				},
				{
					"name":"image_embeds",
					"link":100,
					"label":"image_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"image_embeds"
				},
				{
					"shape":7,
					"name":"text_embeds",
					"link":30,
					"label":"text_embeds",
					"type":"WANVIDEOTEXTEMBEDS",
					"localized_name":"text_embeds"
				},
				{
					"shape":7,
					"name":"samples",
					"label":"samples",
					"type":"LATENT",
					"localized_name":"samples"
				},
				{
					"shape":7,
					"name":"feta_args",
					"label":"feta_args",
					"type":"FETAARGS",
					"localized_name":"feta_args"
				},
				{
					"shape":7,
					"name":"context_options",
					"label":"context_options",
					"type":"WANVIDCONTEXT",
					"localized_name":"context_options"
				},
				{
					"shape":7,
					"name":"cache_args",
					"label":"cache_args",
					"type":"CACHEARGS",
					"localized_name":"cache_args"
				},
				{
					"shape":7,
					"name":"flowedit_args",
					"label":"flowedit_args",
					"type":"FLOWEDITARGS",
					"localized_name":"flowedit_args"
				},
				{
					"shape":7,
					"name":"slg_args",
					"label":"slg_args",
					"type":"SLGARGS",
					"localized_name":"slg_args"
				},
				{
					"shape":7,
					"name":"loop_args",
					"label":"loop_args",
					"type":"LOOPARGS",
					"localized_name":"loop_args"
				},
				{
					"shape":7,
					"name":"experimental_args",
					"label":"experimental_args",
					"type":"EXPERIMENTALARGS",
					"localized_name":"experimental_args"
				},
				{
					"shape":7,
					"name":"sigmas",
					"label":"sigmas",
					"type":"SIGMAS",
					"localized_name":"sigmas"
				},
				{
					"shape":7,
					"name":"unianimate_poses",
					"label":"unianimate_poses",
					"type":"UNIANIMATE_POSE",
					"localized_name":"unianimate_poses"
				},
				{
					"shape":7,
					"name":"fantasytalking_embeds",
					"label":"fantasytalking_embeds",
					"type":"FANTASYTALKING_EMBEDS",
					"localized_name":"fantasytalking_embeds"
				},
				{
					"shape":7,
					"name":"uni3c_embeds",
					"label":"uni3c_embeds",
					"type":"UNI3C_EMBEDS",
					"localized_name":"uni3c_embeds"
				},
				{
					"shape":7,
					"name":"multitalk_embeds",
					"label":"multitalk_embeds",
					"type":"MULTITALK_EMBEDS",
					"localized_name":"multitalk_embeds"
				},
				{
					"shape":7,
					"name":"freeinit_args",
					"label":"freeinit_args",
					"type":"FREEINITARGS",
					"localized_name":"freeinit_args"
				},
				{
					"widget":{
						"name":"steps"
					},
					"name":"steps",
					"label":"steps",
					"type":"INT",
					"localized_name":"steps"
				},
				{
					"widget":{
						"name":"cfg"
					},
					"name":"cfg",
					"label":"cfg",
					"type":"FLOAT",
					"localized_name":"cfg"
				},
				{
					"widget":{
						"name":"shift"
					},
					"name":"shift",
					"label":"shift",
					"type":"FLOAT",
					"localized_name":"shift"
				},
				{
					"widget":{
						"name":"seed"
					},
					"name":"seed",
					"label":"seed",
					"type":"INT",
					"localized_name":"seed"
				},
				{
					"widget":{
						"name":"force_offload"
					},
					"name":"force_offload",
					"label":"force_offload",
					"type":"BOOLEAN",
					"localized_name":"force_offload"
				},
				{
					"widget":{
						"name":"scheduler"
					},
					"name":"scheduler",
					"label":"scheduler",
					"type":"COMBO",
					"localized_name":"scheduler"
				},
				{
					"widget":{
						"name":"riflex_freq_index"
					},
					"name":"riflex_freq_index",
					"label":"riflex_freq_index",
					"type":"INT",
					"localized_name":"riflex_freq_index"
				},
				{
					"widget":{
						"name":"denoise_strength"
					},
					"shape":7,
					"name":"denoise_strength",
					"label":"denoise_strength",
					"type":"FLOAT",
					"localized_name":"denoise_strength"
				},
				{
					"widget":{
						"name":"batched_cfg"
					},
					"shape":7,
					"name":"batched_cfg",
					"label":"batched_cfg",
					"type":"BOOLEAN",
					"localized_name":"batched_cfg"
				},
				{
					"widget":{
						"name":"rope_function"
					},
					"shape":7,
					"name":"rope_function",
					"label":"rope_function",
					"type":"COMBO",
					"localized_name":"rope_function"
				},
				{
					"widget":{
						"name":"start_step"
					},
					"shape":7,
					"name":"start_step",
					"label":"start_step",
					"type":"INT",
					"localized_name":"start_step"
				},
				{
					"widget":{
						"name":"end_step"
					},
					"shape":7,
					"name":"end_step",
					"label":"end_step",
					"type":"INT",
					"localized_name":"end_step"
				},
				{
					"widget":{
						"name":"add_noise_to_samples"
					},
					"shape":7,
					"name":"add_noise_to_samples",
					"label":"add_noise_to_samples",
					"type":"BOOLEAN",
					"localized_name":"add_noise_to_samples"
				}
			],
			"flags":{
				
			},
			"id":27,
			"type":"WanVideoSampler",
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"WanVideoSampler"
			},
			"order":27
		},
		{
			"outputs":[
				{
					"name":"image_embeds",
					"links":[
						99
					],
					"label":"image_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"image_embeds"
				}
			],
			"color":"#2a363b",
			"widgets_values":[
				832,
				480,
				161,
				0.030000000000000006,
				1,
				1,
				true,
				false,
				false
			],
			"inputs":[
				{
					"shape":7,
					"name":"vae",
					"link":98,
					"label":"vae",
					"type":"WANVAE",
					"localized_name":"vae"
				},
				{
					"shape":7,
					"name":"clip_embeds",
					"link":82,
					"label":"clip_embeds",
					"type":"WANVIDIMAGE_CLIPEMBEDS",
					"localized_name":"clip_embeds"
				},
				{
					"shape":7,
					"name":"start_image",
					"link":86,
					"label":"start_image",
					"type":"IMAGE",
					"localized_name":"start_image"
				},
				{
					"shape":7,
					"name":"end_image",
					"label":"end_image",
					"type":"IMAGE",
					"localized_name":"end_image"
				},
				{
					"shape":7,
					"name":"control_embeds",
					"label":"control_embeds",
					"type":"WANVIDIMAGE_EMBEDS",
					"localized_name":"control_embeds"
				},
				{
					"shape":7,
					"name":"temporal_mask",
					"label":"temporal_mask",
					"type":"MASK",
					"localized_name":"temporal_mask"
				},
				{
					"shape":7,
					"name":"extra_latents",
					"label":"extra_latents",
					"type":"LATENT",
					"localized_name":"extra_latents"
				},
				{
					"shape":7,
					"name":"add_cond_latents",
					"label":"add_cond_latents",
					"type":"ADD_COND_LATENTS",
					"localized_name":"add_cond_latents"
				},
				{
					"widget":{
						"name":"width"
					},
					"name":"width",
					"link":87,
					"label":"width",
					"type":"INT",
					"localized_name":"width"
				},
				{
					"widget":{
						"name":"height"
					},
					"name":"height",
					"link":88,
					"label":"height",
					"type":"INT",
					"localized_name":"height"
				},
				{
					"widget":{
						"name":"num_frames"
					},
					"name":"num_frames",
					"label":"num_frames",
					"type":"INT",
					"localized_name":"num_frames"
				},
				{
					"widget":{
						"name":"noise_aug_strength"
					},
					"name":"noise_aug_strength",
					"label":"noise_aug_strength",
					"type":"FLOAT",
					"localized_name":"noise_aug_strength"
				},
				{
					"widget":{
						"name":"start_latent_strength"
					},
					"name":"start_latent_strength",
					"label":"start_latent_strength",
					"type":"FLOAT",
					"localized_name":"start_latent_strength"
				},
				{
					"widget":{
						"name":"end_latent_strength"
					},
					"name":"end_latent_strength",
					"label":"end_latent_strength",
					"type":"FLOAT",
					"localized_name":"end_latent_strength"
				},
				{
					"widget":{
						"name":"force_offload"
					},
					"name":"force_offload",
					"label":"force_offload",
					"type":"BOOLEAN",
					"localized_name":"force_offload"
				},
				{
					"widget":{
						"name":"fun_or_fl2v_model"
					},
					"shape":7,
					"name":"fun_or_fl2v_model",
					"label":"fun_or_fl2v_model",
					"type":"BOOLEAN",
					"localized_name":"fun_or_fl2v_model"
				},
				{
					"widget":{
						"name":"tiled_vae"
					},
					"shape":7,
					"name":"tiled_vae",
					"label":"tiled_vae",
					"type":"BOOLEAN",
					"localized_name":"tiled_vae"
				}
			],
			"flags":{
				
			},
			"type":"WanVideoImageToVideoEncode",
			"mode":0,
			"bgcolor":"#3f5159",
			"size":[
				352.79998779296875,
				390
			],
			"pos":[
				-18.238676071166992,
				-271.3863525390625
			],
			"id":63,
			"properties":{
				"cnr_id":"ComfyUI-WanVideoWrapper",
				"ver":"d9b1f4d1a5aea91d101ae97a54714a5861af3f50",
				"widget_ue_connectable":{
					"width":true,
					"height":true
				},
				"Node name for S&R":"WanVideoImageToVideoEncode"
			},
			"order":23
		},
		{
			"outputs":[
				{
					"name":"IMAGE",
					"links":[
						84
					],
					"label":"IMAGE",
					"type":"IMAGE",
					"localized_name":"IMAGE"
				},
				{
					"name":"MASK",
					"label":"MASK",
					"type":"MASK",
					"localized_name":"MASK"
				}
			],
			"color":"#2a363b",
			"widgets_values":[
				"d1e607385ed3099cc552e637d7622602806ef22206b89e62ea3bc823b3249dd5.jpg",
				"image"
			],
			"inputs":[
				{
					"widget":{
						"name":"image"
					},
					"name":"image",
					"label":"image",
					"type":"COMBO",
					"localized_name":"image"
				},
				{
					"widget":{
						"name":"upload"
					},
					"name":"upload",
					"label":"upload",
					"type":"IMAGEUPLOAD",
					"localized_name":"choose file to upload"
				}
			],
			"flags":{
				
			},
			"type":"LoadImage",
			"mode":0,
			"bgcolor":"#3f5159",
			"size":[
				307.23455810546875,
				314
			],
			"pos":[
				-989.7145385742188,
				-161.11488342285156
			],
			"id":58,
			"properties":{
				"cnr_id":"comfy-core",
				"ver":"0.3.26",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"LoadImage"
			},
			"order":11
		},
		{
			"outputs":[
				
			],
			"color":"#432",
			"widgets_values":[
				"Generate a short, plain text prompt based on the image. The prompt should contain at least three consecutive actions to provide sufficient animation and a narrative feel to the video. Note that the prompt should be output directly; no further explanation is required. The prompt should be no more than 300 words.\n\n根据图片生成一段生成视频纯文本的提示词，提示词包含至少3个连续的动作以满足视频有的足够的动效和故事感。注意，直接输出改提示词，不需要输出任何其他解释说明的内容，300个单词以内"
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"Note",
			"mode":0,
			"bgcolor":"#653",
			"size":[
				535.5982666015625,
				201.81826782226562
			],
			"pos":[
				-193.2226104736328,
				243.82623291015625
			],
			"id":92,
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":12
		},
		{
			"outputs":[
				
			],
			"color":"#432",
			"widgets_values":[
				"You are an experienced film concept designer and video generation expert. Based on the given image, conduct a detailed analysis and generate a highly detailed and professional video prompt in JSON format for a 5-second video.\nPlease strictly adhere to the following JSON structure and content specifications. Each field should be as specific, vivid, and imaginative as possible to capture real-world filmmaking details.\n--------------------------------------------------------------------------------\n**JSON Structure Template:**\n{\n  \"shot\": {\n    \"composition\": \"string\",\n    \"camera_motion\": \"string\"\n  },\n  \"subject\": {\n    \"description\": \"string\",\n    \"wardrobe\": \"string\" // Use \"null\" if the subject is an animal or has no specific wardrobe\n  },\n  \"scene\": {\n    \"location\": \"string\",\n    \"time_of_day\": \"string\",\n    \"environment\": \"string\"\n  },\n  \"visual_details\": {\n    \"action\": \"string\",\n    \"props\": \"string\", // Use \"null\" if there are no props\n    \"action_sequence\": \"array of objects\"\n  },\n  \"cinematography\": {\n    \"lighting\": \"string\",\n    \"tone\": \"string\"\n  }\n}\n--------------------------------------------------------------------------------\n**Content Generation Guidelines (Please keep these principles in mind during generation):**\n\n**1. shot**\n*   **composition**: Describe the shot type in detail (e.g., wide shot, medium shot, close-up, long shot), focal length (e.g., 35mm lens, 85mm lens, 50mm lens, 100mm macro telephoto lens, 26mm equivalent lens), camera equipment (e.g., Sony Venice, ARRI Alexa series, RED series, iPhone 15 Pro Max, DJI Inspire 3 drone), and depth of field (e.g., deep depth of field, shallow depth of field).\n*   **camera_motion**: Precisely describe how the camera moves (e.g., smooth Steadicam arc, slow lateral dolly, static, handheld shake, slow pan, drone orbit, rising crane).\n\n**2. subject**\n*   **description**: Provide an extremely detailed depiction of the subject, including their age (e.g., 25-year-old, 23-year-old, 40-year-old, 92-year-old), gender, ethnicity (e.g., Chinese female, Egyptian female, K-pop artist, European female, East Asian female, African male, Korean female, German female, Italian female, Japanese), body type (e.g., slender and athletic), hair (color, style), and any unique facial features. For non-human subjects (e.g., beluga whale, phoenix, emu, golden eagle, duck, snail), describe their physical characteristics in detail.\n\n**3. scene**\n*   **location**: Specify the exact shooting location.\n*   **time_of_day**: State the specific time of day (e.g., dawn, early morning, morning, midday, afternoon, dusk, night).\n*   **environment**: Provide a detailed environmental description that captures the atmosphere and background details.\n\n**4. visual_details**\n*   **action**: A general summary of the action depicted in the video.\n*   **action_sequence**: To enhance the visual tension of the generated 5s video, analyze the image and expand upon it creatively. Design a key action for each second, using the format `\"0-1s: subject + action\"` to briefly and precisely describe the action occurring in that second.\n*   **props**: List all relevant props and elements in the scene (e.g., silver-hilted sword, campfire, candelabra, matcha latte and cheesecake, futuristic motorcycle). If there are no props in the scene, this field should be explicitly set to `\"null\"`.\n\n**5. cinematography**\n*   **lighting**: Describe the light source, quality, color, and direction in detail (e.g., natural dawn light softened by fog, campfire as the key light, natural sunlight through stained glass windows, soft HDR reflections, warm tungsten light and natural window light).\n*   **tone**: Capture the abstract emotional or stylistic feel of the video (e.g., \"fierce, elegant, fluid\", \"mystical, elegant, enchanting\", \"hyperrealistic with an ironic, dark comedic twist\", \"dreamy, serene, emotionally healing\", \"documentary realism\", \"epic, majestic, awe-inspiring\", \"wild, dynamic, uninhibited\").\n\n--------------------------------------------------------------------------------\n**Additional Considerations for Prompt Generation:**\n\n*   **Granularity of Detail**: The LLM should understand that every field requires as much specific detail as possible, not generalizations. For example, instead of writing \"a woman,\" write \"a 25-year-old Chinese female with long black hair tied back with a silk ribbon, a slender build, wearing a flowing, pale blue Hanfu...\".\n*   **Consistency and Diversity**: While the JSON structure must be strictly consistent, the content of each video prompt should be creative and diverse, reflecting the unique elements of different video types (e.g., martial arts, dance, drama, nature documentary, sci-fi action, motivational, commercial, fantasy).\n*   **Handling Null Values**: When a field is not applicable (e.g., wardrobe for an animal), the LLM should use `null` rather than an empty string or omitting the field, to maintain the integrity of the JSON structure.\n*   **Contextual Description**: When describing action, lighting, and sound, think about how these elements work together to create a specific **\"tone\"** and express it using vivid language.\n*   **Language Requirements**: All output should be clear, concise, and use professional filmmaking terminology."
			],
			"inputs":[
				
			],
			"flags":{
				
			},
			"type":"Note",
			"mode":0,
			"bgcolor":"#653",
			"size":[
				535.5982666015625,
				201.81826782226562
			],
			"pos":[
				-764.437744140625,
				246.6184539794922
			],
			"id":95,
			"properties":{
				"widget_ue_connectable":{
					
				}
			},
			"order":13
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"text",
					"links":[
						116,
						117
					],
					"label":"text",
					"type":"STRING",
					"localized_name":"text"
				}
			],
			"size":[
				490.5721435546875,
				461.4720153808594
			],
			"pos":[
				400.4052429199219,
				-17.225866317749023
			],
			"widgets_values":[
				"Qwen3-VL-4B-Instruct-FP8",
				"8-bit (Balanced)",
				"Write a short story inspired by this image.",
				"You are an experienced film concept designer and video generation expert. Based on the given image, conduct a detailed analysis and generate a highly detailed and professional video prompt in JSON format for a 5-second video.\nPlease strictly adhere to the following JSON structure and content specifications. Each field should be as specific, vivid, and imaginative as possible to capture real-world filmmaking details.\n--------------------------------------------------------------------------------\n**JSON Structure Template:**\n{\n  \"shot\": {\n    \"composition\": \"string\",\n    \"camera_motion\": \"string\"\n  },\n  \"subject\": {\n    \"description\": \"string\",\n    \"wardrobe\": \"string\" // Use \"null\" if the subject is an animal or has no specific wardrobe\n  },\n  \"scene\": {\n    \"location\": \"string\",\n    \"time_of_day\": \"string\",\n    \"environment\": \"string\"\n  },\n  \"visual_details\": {\n    \"action\": \"string\",\n    \"props\": \"string\", // Use \"null\" if there are no props\n    \"action_sequence\": \"array of objects\"\n  },\n  \"cinematography\": {\n    \"lighting\": \"string\",\n    \"tone\": \"string\"\n  }\n}\n--------------------------------------------------------------------------------\n**Content Generation Guidelines (Please keep these principles in mind during generation):**\n\n**1. shot**\n*   **composition**: Describe the shot type in detail (e.g., wide shot, medium shot, close-up, long shot), focal length (e.g., 35mm lens, 85mm lens, 50mm lens, 100mm macro telephoto lens, 26mm equivalent lens), camera equipment (e.g., Sony Venice, ARRI Alexa series, RED series, iPhone 15 Pro Max, DJI Inspire 3 drone), and depth of field (e.g., deep depth of field, shallow depth of field).\n*   **camera_motion**: Precisely describe how the camera moves (e.g., smooth Steadicam arc, slow lateral dolly, static, handheld shake, slow pan, drone orbit, rising crane).\n\n**2. subject**\n*   **description**: Provide an extremely detailed depiction of the subject, including their age (e.g., 25-year-old, 23-year-old, 40-year-old, 92-year-old), gender, ethnicity (e.g., Chinese female, Egyptian female, K-pop artist, European female, East Asian female, African male, Korean female, German female, Italian female, Japanese), body type (e.g., slender and athletic), hair (color, style), and any unique facial features. For non-human subjects (e.g., beluga whale, phoenix, emu, golden eagle, duck, snail), describe their physical characteristics in detail.\n\n**3. scene**\n*   **location**: Specify the exact shooting location.\n*   **time_of_day**: State the specific time of day (e.g., dawn, early morning, morning, midday, afternoon, dusk, night).\n*   **environment**: Provide a detailed environmental description that captures the atmosphere and background details.\n\n**4. visual_details**\n*   **action**: A general summary of the action depicted in the video.\n*   **action_sequence**: To enhance the visual tension of the generated 5s video, analyze the image and expand upon it creatively. Design a key action for each second, using the format `\"0-1s: subject + action\"` to briefly and precisely describe the action occurring in that second.\n*   **props**: List all relevant props and elements in the scene (e.g., silver-hilted sword, campfire, candelabra, matcha latte and cheesecake, futuristic motorcycle). If there are no props in the scene, this field should be explicitly set to `\"null\"`.\n\n**5. cinematography**\n*   **lighting**: Describe the light source, quality, color, and direction in detail (e.g., natural dawn light softened by fog, campfire as the key light, natural sunlight through stained glass windows, soft HDR reflections, warm tungsten light and natural window light).\n*   **tone**: Capture the abstract emotional or stylistic feel of the video (e.g., \"fierce, elegant, fluid\", \"mystical, elegant, enchanting\", \"hyperrealistic with an ironic, dark comedic twist\", \"dreamy, serene, emotionally healing\", \"documentary realism\", \"epic, majestic, awe-inspiring\", \"wild, dynamic, uninhibited\").\n\n--------------------------------------------------------------------------------\n**Additional Considerations for Prompt Generation:**\n\n*   **Granularity of Detail**: The LLM should understand that every field requires as much specific detail as possible, not generalizations. For example, instead of writing \"a woman,\" write \"a 25-year-old Chinese female with long black hair tied back with a silk ribbon, a slender build, wearing a flowing, pale blue Hanfu...\".\n*   **Consistency and Diversity**: While the JSON structure must be strictly consistent, the content of each video prompt should be creative and diverse, reflecting the unique elements of different video types (e.g., martial arts, dance, drama, nature documentary, sci-fi action, motivational, commercial, fantasy).\n*   **Handling Null Values**: When a field is not applicable (e.g., wardrobe for an animal), the LLM should use `null` rather than an empty string or omitting the field, to maintain the integrity of the JSON structure.\n*   **Contextual Description**: When describing action, lighting, and sound, think about how these elements work together to create a specific **\"tone\"** and express it using vivid language.\n*   **Language Requirements**: All output should be clear, concise, and use professional filmmaking terminology.",
				1024,
				false,
				415613323781443,
				"randomize"
			],
			"inputs":[
				{
					"shape":7,
					"name":"image",
					"link":114,
					"label":"image",
					"type":"IMAGE",
					"localized_name":"image"
				},
				{
					"shape":7,
					"name":"video",
					"label":"video",
					"type":"IMAGE",
					"localized_name":"video"
				},
				{
					"widget":{
						"name":"model_name"
					},
					"name":"model_name",
					"label":"model_name",
					"type":"COMBO",
					"localized_name":"model_name"
				},
				{
					"widget":{
						"name":"quantization"
					},
					"name":"quantization",
					"label":"quantization",
					"type":"COMBO",
					"localized_name":"quantization"
				},
				{
					"widget":{
						"name":"preset_prompt"
					},
					"name":"preset_prompt",
					"label":"preset_prompt",
					"type":"COMBO",
					"localized_name":"preset_prompt"
				},
				{
					"widget":{
						"name":"custom_prompt"
					},
					"name":"custom_prompt",
					"label":"custom_prompt",
					"type":"STRING",
					"localized_name":"custom_prompt"
				},
				{
					"widget":{
						"name":"max_tokens"
					},
					"name":"max_tokens",
					"label":"max_tokens",
					"type":"INT",
					"localized_name":"max_tokens"
				},
				{
					"widget":{
						"name":"keep_model_loaded"
					},
					"name":"keep_model_loaded",
					"label":"keep_model_loaded",
					"type":"BOOLEAN",
					"localized_name":"keep_model_loaded"
				},
				{
					"widget":{
						"name":"seed"
					},
					"name":"seed",
					"label":"seed",
					"type":"INT",
					"localized_name":"seed"
				}
			],
			"flags":{
				
			},
			"id":87,
			"type":"AILab_QwenVL",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"AILab_QwenVL"
			},
			"order":21
		},
		{
			"mode":0,
			"outputs":[
				
			],
			"size":[
				573.3500366210938,
				334.9992370605469
			],
			"pos":[
				937.6654052734375,
				-2.4029388427734375
			],
			"widgets_values":[
				
			],
			"inputs":[
				{
					"name":"source",
					"link":116,
					"label":"source",
					"type":"*",
					"localized_name":"source"
				}
			],
			"flags":{
				
			},
			"id":91,
			"type":"PreviewAny",
			"properties":{
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"PreviewAny"
			},
			"order":24
		},
		{
			"mode":0,
			"outputs":[
				{
					"name":"Filenames",
					"label":"Filenames",
					"type":"VHS_FILENAMES",
					"localized_name":"Filenames"
				}
			],
			"size":[
				1245.8460693359375,
				1079.2188720703125
			],
			"pos":[
				1594.5560302734375,
				-903.861083984375
			],
			"widgets_values":{
				"save_output":true,
				"filename_prefix":"WanVideoWrapper_I2V",
				"loop_count":0,
				"pix_fmt":"yuv420p",
				"save_metadata":true,
				"crf":19,
				"trim_to_audio":false,
				"videopreview":{
					"paused":false,
					"hidden":false,
					"params":{
						"score":"0",
						"filename":"WanVideoWrapper_I2V_00001_p83_mzdou_1761813844.mp4",
						"workflow":"WanVideoWrapper_I2V_00001_p83.png",
						"fullpath":"/data/ComfyUI/personal/445aa9a89d7fa5567450f91c998092da/output/WanVideoWrapper_I2V_00001_p83.mp4",
						"format":"video/h264-mp4",
						"subfolder":"",
						"label":"Normal",
						"type":"output",
						"frame_rate":16
					}
				},
				"format":"video/h264-mp4",
				"no_preview":false,
				"frame_rate":16,
				"pingpong":false
			},
			"inputs":[
				{
					"name":"images",
					"link":36,
					"label":"images",
					"type":"IMAGE",
					"localized_name":"images"
				},
				{
					"shape":7,
					"name":"audio",
					"label":"audio",
					"type":"AUDIO",
					"localized_name":"audio"
				},
				{
					"shape":7,
					"name":"meta_batch",
					"label":"meta_batch",
					"type":"VHS_BatchManager",
					"localized_name":"meta_batch"
				},
				{
					"shape":7,
					"name":"vae",
					"label":"vae",
					"type":"VAE",
					"localized_name":"vae"
				},
				{
					"widget":{
						"name":"frame_rate"
					},
					"name":"frame_rate",
					"label":"frame_rate",
					"type":"FLOAT",
					"localized_name":"frame_rate"
				},
				{
					"widget":{
						"name":"loop_count"
					},
					"name":"loop_count",
					"label":"loop_count",
					"type":"INT",
					"localized_name":"loop_count"
				},
				{
					"widget":{
						"name":"filename_prefix"
					},
					"name":"filename_prefix",
					"label":"filename_prefix",
					"type":"STRING",
					"localized_name":"filename_prefix"
				},
				{
					"widget":{
						"name":"format"
					},
					"name":"format",
					"label":"format",
					"type":"COMBO",
					"localized_name":"format"
				},
				{
					"widget":{
						"name":"pingpong"
					},
					"name":"pingpong",
					"label":"pingpong",
					"type":"BOOLEAN",
					"localized_name":"pingpong"
				},
				{
					"widget":{
						"name":"save_output"
					},
					"name":"save_output",
					"label":"save_output",
					"type":"BOOLEAN",
					"localized_name":"save_output"
				},
				{
					"widget":{
						"name":"no_preview"
					},
					"shape":7,
					"name":"no_preview",
					"label":"no_preview",
					"type":"BOOLEAN",
					"localized_name":"no_preview"
				}
			],
			"flags":{
				
			},
			"id":30,
			"type":"VHS_VideoCombine",
			"properties":{
				"cnr_id":"comfyui-videohelpersuite",
				"ver":"0a75c7958fe320efcb052f1d9f8451fd20c730a8",
				"widget_ue_connectable":{
					
				},
				"Node name for S&R":"VHS_VideoCombine"
			},
			"order":29
		}
	],
	"extra":{
		"VHS_KeepIntermediate":true,
		"links_added_by_ue":[
			
		],
		"VHS_MetadataImage":true,
		"ue_links":[
			
		],
		"0246.VERSION":[
			0,
			0,
			4
		],
		"VHS_latentpreviewrate":0,
		"frontendVersion":"1.25.1",
		"VHS_latentpreview":true,
		"node_versions":{
			"ComfyUI-WanVideoWrapper":"5a2383621a05825d0d0437781afcb8552d9590fd",
			"ComfyUI-VideoHelperSuite":"0a75c7958fe320efcb052f1d9f8451fd20c730a8",
			"ComfyUI-KJNodes":"a5bd3c86c8ed6b83c55c2d0e7a59515b15a0137f",
			"comfy-core":"0.3.26"
		},
		"ds":{
			"offset":[
				2550.094466337958,
				1645.593905272022
			],
			"scale":0.25401326852420014
		}
	},
	"groups":[
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":2,
			"title":"Group",
			"bounding":[
				-1019.4800415039062,
				-941.463134765625,
				1371.4527587890625,
				556.21044921875
			]
		},
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":3,
			"title":"Group",
			"bounding":[
				-1016.1355590820312,
				-341.6160888671875,
				1363.5941162109375,
				525.15576171875
			]
		},
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":4,
			"title":"Group",
			"bounding":[
				385.2229919433594,
				-940.7623291015625,
				1175.18505859375,
				786.4439086914062
			]
		},
		{
			"color":"#3f789e",
			"font_size":24,
			"flags":{
				
			},
			"id":5,
			"title":"Group",
			"bounding":[
				390.4052429199219,
				-108.76624298095703,
				1172.0496826171875,
				563.0122680664062
			]
		}
	],
	"links":[
		[
			30,
			16,
			0,
			27,
			2,
			"WANVIDEOTEXTEMBEDS"
		],
		[
			33,
			27,
			0,
			28,
			1,
			"LATENT"
		],
		[
			36,
			28,
			0,
			30,
			0,
			"IMAGE"
		],
		[
			70,
			59,
			0,
			65,
			0,
			"CLIP_VISION"
		],
		[
			82,
			65,
			0,
			63,
			1,
			"WANVIDIMAGE_CLIPEMBEDS"
		],
		[
			84,
			58,
			0,
			68,
			0,
			"IMAGE"
		],
		[
			85,
			68,
			0,
			65,
			1,
			"IMAGE"
		],
		[
			86,
			68,
			0,
			63,
			2,
			"IMAGE"
		],
		[
			87,
			68,
			1,
			63,
			8,
			"INT"
		],
		[
			88,
			68,
			2,
			63,
			9,
			"INT"
		],
		[
			90,
			22,
			0,
			70,
			0,
			"WANVIDEOMODEL"
		],
		[
			92,
			39,
			0,
			70,
			1,
			"BLOCKSWAPARGS"
		],
		[
			93,
			71,
			0,
			22,
			2,
			"WANVIDLORA"
		],
		[
			94,
			22,
			0,
			72,
			0,
			"*"
		],
		[
			95,
			70,
			0,
			73,
			0,
			"*"
		],
		[
			96,
			74,
			0,
			16,
			1,
			"WANVIDEOMODEL"
		],
		[
			97,
			38,
			0,
			75,
			0,
			"*"
		],
		[
			98,
			76,
			0,
			63,
			0,
			"WANVAE"
		],
		[
			99,
			63,
			0,
			77,
			0,
			"*"
		],
		[
			100,
			78,
			0,
			27,
			1,
			"WANVIDIMAGE_EMBEDS"
		],
		[
			101,
			11,
			0,
			79,
			0,
			"*"
		],
		[
			102,
			80,
			0,
			16,
			0,
			"WANTEXTENCODER"
		],
		[
			103,
			81,
			0,
			28,
			0,
			"WANVAE"
		],
		[
			104,
			82,
			0,
			27,
			0,
			"WANVIDEOMODEL"
		],
		[
			114,
			68,
			0,
			87,
			0,
			"IMAGE"
		],
		[
			116,
			87,
			0,
			91,
			0,
			"*"
		],
		[
			117,
			87,
			0,
			16,
			2,
			"STRING"
		]
	],
	"id":"206247b6-9fec-4ed2-8927-e4f388c674d4",
	"config":{
		
	},
	"version":0.4,
	"last_node_id":95,
	"revision":0
}